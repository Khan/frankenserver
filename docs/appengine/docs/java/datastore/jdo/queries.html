<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">


















 
 
 
 
 
  
  


<html>
  <head>
    <script type="text/javascript" language="JavaScript">
    ORIGINAL_PAGE_PATH = "/appengine/docs/java/datastore/jdo/queries.html";
    </script>
    
    
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<title>Queries in JDO - Google App Engine - Google Code</title>
<script type="text/javascript"><!--
(function(){function a(){this.t={};this.tick=function(c){this.t[c]=(new Date).getTime()};this.tick("start")}var b=new a;window.jstiming={Timer:a,load:b};if(window.external&&window.external.pageT)window.jstiming.pt=window.external.pageT;})();

var _tocPath_ = '/appengine/docs/_toc.ezt';
var codesite_token = null;
var logged_in_user_email = null;
//--></script>
<link href="../../../../../css/codesite.pack.04102009.css" type="text/css" rel="stylesheet">
<script src="../../../../../js/codesite_head.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript">CODESITE_CSITimer['load'].tick('bhs');</script>
<link rel="search" type="application/opensearchdescription+xml" title="Google Code" href="http://code.google.com/osd.xml">

<!--[if IE]><link rel="stylesheet" type="text/css" href="../../../../../css/iehacks.css"><![endif]-->

    <link href="../../../../../css/semantic_headers.css" rel="stylesheet" type="text/css" />
    <link href="../../../../css/local_extensions.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="gc-documentation">

    
    
    <script type="text/javascript">
var _gaq = _gaq || [];

var cookiePath = '/appengine/';
if (cookiePath.lastIndexOf('.html') > cookiePath.lastIndexOf('/')) {
  cookiePath = cookiePath.substring(0, cookiePath.lastIndexOf('/') + 1);
};

_gaq.push(


    ['siteTracker._setAccount', 'UA-18071-1'],
    ['siteTracker._setDomainName', 'code.google.com'],
    ['siteTracker._trackPageview']
);
(function() {
  var ga = document.createElement('script');
  ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] ||
   document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
</script>


<div id="gb">
 <span>
  
    <a id="lang-dropdown" href="http://code.google.com" onclick="return false;"><span style="text-decoration:underline">English</span> <span style="font-size:.75em;">&#9660;</span></a>
  
 </span>
</div>

<div class="gbh" style="left:0px;"></div>
<div class="gbh" style="right:0px;"></div>


<div id="gc-container">
<a id="top"></a>
<div id="skipto">
  <a href="#gc-pagecontent">Skip to page content</a>
  <a href="#gc-toc">Skip to main navigation</a>
</div>

<div id="gc-header">
  <div id="logo"><a href="http://code.google.com">
  
     <img src="../../../../../images/code_logo.gif" height="40" width="167" alt="Google Code" style="border:0;margin:3px 0 0 0;">
  
  </a></div>
  <div id="search">
    <div id="searchForm">
      <form id="cse" action="http://www.google.com/cse" accept-charset="utf-8" onsubmit="executeGSearch(document.getElementById('gsearchInput').value); return false;">
      <noscript>
      <input type="hidden" name="cref" value="http://code.google.com/cse/googlecode-context.xml">
      </noscript>
      <div id="gsc-search-box">
        <input id="gsearchInput" type="text" name="q" maxlength="2048" class="gsc-input" autocomplete="off" title="Google Code Search" style="width:345px">
        <div id="cs-searchresults" onclick="event.cancelBubble = true;"></div>
        <input title="Search" id="gsearchButton" class="gsc-search-button" name="sa" value="Search" type="submit">
        <div class="greytext">e.g. "templates" or "datastore"</div>
      </div>
      </form>
    </div> <!-- end searchForm -->
  </div> <!-- end search -->




</div> <!-- end gc-header -->


<div id="codesiteContent">

<a id="gc-topnav-anchor"></a>
<div id="gc-topnav">
  <h1 style="padding:0 0 0 6px;">Google App Engine</h1>
  <ul id="docs" class="gc-topnav-tabs">

    <li id="home_link">
      <a href="../../../../index.html" title="Google App Engine home page">Home</a>
    </li>
  
    <li id="docs_link">
      <a href="../../../index.html" class="selected" title="Official Google App Engine documentation">Docs</a>
    </li>
  
    <li id="faq_link">
      <a href="../../../../kb/index.html" title="Answers to frequently asked questions about Google App Engine">FAQ</a>
    </li>
  
    <li id="articles_link">
      <a href="../../../../articles/index.html" title="Focused articles and tutorials for Google App Engine developers">Articles</a>
    </li>
  
    <li>
      <a href="http://googleappengine.blogspot.com/" title="Official Google App Engine blog">Blog</a>
    </li>
  
    <li>
      <a href="../../../../community.html" title="Community home for Google App Engine">Community</a>
    </li>
  
    <li>
      <a href="../../../../terms.html" title="Google App Engine terms of service">Terms</a>
    </li>
  
    <li>
      <a href="../../../../downloads.html" title="Download Google App Engine">Download</a>
    </li>
  

  
  
  
  
  <li><g:plusone size="small" count="false" source="google:googlecode"></g:plusone>&nbsp;</li>
</ul>
</div> <!-- end gc-topnav -->


    <div class="g-section g-tpl-170">

      <div class="g-unit g-first" id="gc-toc">
        <ul>
  <li><a href="../../../../downloads.html">Downloads</a></li>
  <li><a href="../../../../tools_tips.html">Tools and Tips</a></li>
  <li><a href="../../../glossary.html">Glossary</a><sup class="new">New!</sup></li>
  <li><a href="https://appengine.google.com/">Admin Console</a></li>
  <li><a href="http://code.google.com/status/appengine">System Status</a></li>
  <li><a href="http://code.google.com/p/googleappengine/issues/list">Issue Tracker</a></li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Getting Started</h2>
    <ul>
      <li><a href="../../../whatisgoogleappengine.html">What Is Google App Engine?</a></li>
      <li><a href="../../gettingstarted/index.html">Java</a>
        <ul>
              <li><a href="../../gettingstarted/introduction.html">Introduction</a></li>
    <li><a href="../../gettingstarted/installing.html">Installing the Java SDK</a></li>
    <li><a href="../../gettingstarted/creating.html">Creating a Project</a></li>
    <li><a href="../../gettingstarted/usingusers.html">Using the Users Service</a></li>
    <li><a href="../../gettingstarted/usingjsps.html">Using JSPs</a></li>
    <li><a href="../../gettingstarted/usingdatastore.html">Using the Datastore</a></li>
    <li><a href="../../gettingstarted/staticfiles.html">Using Static Files</a></li>
    <li><a href="../../gettingstarted/uploading.html">Uploading Your Application</a></li>
    <li><a href="http://googcloudlabs.appspot.com">Codelabs for Getting Started in Java</a></li>

        </ul>
      </li>
      <li><a href="../../../python/gettingstarted/index.html">Python 2.5</a>
        <ul>
            <li><a href="../../../python/gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../../../python/gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../../../python/gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../../../python/gettingstarted/usingwebapp.html">Using the webapp Framework</a></li>
  <li><a href="../../../python/gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../../../python/gettingstarted/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../../../python/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../../../python/gettingstarted/templates.html">Using Templates</a></li>
  <li><a href="../../../python/gettingstarted/staticfiles.html">Using Static Files</a></li>
  <li><a href="../../../python/gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../../../python/gettingstartedpython27/index.html">Python 2.7</a>
        <ul>
            <li><a href="../../../python/gettingstartedpython27/introduction.html">Introduction</a></li>
  <li><a href="../../../python/gettingstartedpython27/devenvironment.html">The Development Environment</a></li>
  <li><a href="../../../python/gettingstartedpython27/helloworld.html">Hello, World!</a></li>
  <li><a href="../../../python/gettingstartedpython27/usingwebapp.html">Explaining the webapp2 Framework</a></li>
  <li><a href="../../../python/gettingstartedpython27/usingusers.html">Using the Users Service</a></li>
  <li><a href="../../../python/gettingstartedpython27/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../../../python/gettingstartedpython27/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../../../python/gettingstartedpython27/templates.html">Using Templates</a></li>
  <li><a href="../../../python/gettingstartedpython27/staticfiles.html">Using Static Files</a></li>
  <li><a href="../../../python/gettingstartedpython27/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../../../go/gettingstarted/index.html">Go</a>
        <ul>
          <li><span class="exp-feat">Experimental!</span></li>
            <li><a href="../../../go/gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../../../go/gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../../../go/gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../../../go/gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../../../go/gettingstarted/handlingforms.html">Handling Forms</a></li>
  <li><a href="../../../go/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../../../go/gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Java</h2>
    <ul>
          <li><a href="../../overview.html">Overview</a></li>
    <li><a href="../../runtime.html">Servlet Environment</a></li>
    <li><a href="../../backends/index.html">Backends</a>
      <ul>
        <li><a href="../../backends/overview.html">Overview</a></li>
<li><a href="../../javadoc/com/google/appengine/api/backends/package-summary.html">Javadoc Reference</a></li>


      </ul>
    </li>
    <li><a href="../index.html">Storing Data</a>
      <ul>
            <li><a href="../overview.html">Overview</a></li>
    <li><a href="../entities.html">Entities</a></li>
    <li><a href="../queries.html">Queries</a></li>
    <li><a href="../transactions.html">Transactions</a></li>
    <li><a href="../hr/index.html">Choosing a Datastore</a></li>
    <li><a href="../hr/overview.html">Using the High Replication Datastore</a></li>
    <li><a href="../metadataqueries.html">Metadata Queries</a></li>
    <li><a href="../stats.html">Statistics</a></li>
    <li><a href="../async.html">Async API</a></li>
    <li><a href="../callbacks.html">Callbacks</a></li>
    <li><a href="index.html">JDO</a>
      <ul>
            <li><a href="overview.html">Overview</a></li>
    <li><a href="dataclasses.html">Defining Data Classes with JDO</a></li>
    <li><a href="creatinggettinganddeletingdata.html">Creating, Getting, and Deleting Data in JDO</a></li>
    <li><a href="relationships.html">Entity Relationships in JDO</a></li>
    <li><a href="queries.html">Queries in JDO</a></li>

      </ul>
    </li>
    <li><a href="../jpa/index.html">JPA</a>
      <ul>
            <li><a href="../jpa/overview.html">Overview</a></li>

      </ul>
    </li>
    <li><a href="../../javadoc/com/google/appengine/api/datastore/package-summary.html">Javadoc Reference</a></li>

      </ul>
    </li>
    <li><a href="../../apis.html">Services</a>
      <ul>
        <li><a href="../../appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../../appidentity/overview.html">Overview</a></li>

<li><a href="../../javadoc/com/google/appengine/api/appidentity/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../javadoc/com/google/appengine/api/blobstore/package-summary.html">API Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../googlestorage/index.html">Google Cloud Storage</a>
          <ul>
            <li><a href="../../googlestorage/overview.html">Overview</a></li>
<li><a href="../../javadoc/com/google/appengine/api/files/package-summary.html">API Reference</a></li>
    </li>


          </ul>
        </li>
        <li><a href="../../capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../capabilities/overview.html">Overview</a></li>
<li><a href="../../javadoc/com/google/appengine/api/capabilities/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../../conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../../conversion/overview.html">Overview</a></li>
<li><a href="../../javadoc/com/google/appengine/api/conversion/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../../channel/index.html">Channel</a>
          <ul>
            <li><a href="../../channel/overview.html">Overview</a></li>
<li><a href="../../javadoc/com/google/appengine/api/channel/package-summary.html">Javadoc Reference</a></li>
<li><a href="../../channel/javascript.html">JavaScript Reference</a></li>

          </ul>
        </li>
        <li><a href="../../images/index.html">Images</a>
          <ul>
                <li><a href="../../images/overview.html">Overview</a></li>
    <li><a href="../../javadoc/com/google/appengine/api/images/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../mail/index.html">Mail</a>
          <ul>
                <li><a href="../../mail/overview.html">Overview</a></li>
    <li><a href="../../mail/usingjavamail.html">Using JavaMail to Send Mail</a></li>
    <li><a href="../../mail/receiving.html">Receiving Mail</a></li>
    <li><a href="../../javadoc/com/google/appengine/api/mail/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../memcache/index.html">Memcache</a>
          <ul>
                <li><a href="../../memcache/overview.html">Overview</a></li>
    <li><a href="../../memcache/usingjcache.html">Using JCache</a></li>
    <li><a href="../../javadoc/com/google/appengine/api/memcache/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../../multitenancy/overview.html">Overview</a></li>
    <li><a href="../../multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../../multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li><a href="../../javadoc/com/google/appengine/api/NamespaceManager.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../oauth/index.html">OAuth</a>
          <ul>
                <li><a href="../../oauth/overview.html">Overview</a></li>
    <li><a href="../../javadoc/com/google/appengine/api/oauth/package-summary.html">API Reference</a></li>


          </ul>
        </li>
        <li><a href="../../prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../../prospectivesearch/overview.html">Overview</a></li>
<li><a href="../../javadoc/com/google/appengine/api/prospectivesearch/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        </li>
        <li><a href="../../taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../taskqueue/overview.html">Overview</a></li>
     <li><a href="../../taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../../taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><a href="../../javadoc/com/google/appengine/api/taskqueue/package-summary.html">Javadoc Reference</a></li>
     <li><a href="../../taskqueue/rest.html">REST reference</a> <span class="exp-feat">(Experimental)</span></li>
          </ul>
        </li>
        <li><a href="../../urlfetch/index.html">URL Fetch</a>
          <ul>
                <li><a href="../../urlfetch/overview.html">Overview</a></li>
    <li><a href="../../urlfetch/usingjavanet.html">Using java.net</a></li>
    <li><a href="../../javadoc/com/google/appengine/api/urlfetch/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../users/index.html">Users</a>
          <ul>
                <li><a href="../../users/overview.html">Overview</a></li>
    <li><a href="../../javadoc/com/google/appengine/api/users/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../../xmpp/overview.html">Overview</a></li>
     <li><a href="../../javadoc/com/google/appengine/api/xmpp/package-summary.html">API Reference</a></li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../../javadoc/index.html">Services Javadoc</a></li>
    <li><a href="../../jrewhitelist.html">JRE Class White List</a></li>
    <li><a href="../../config/index.html">Configuration</a>
      <ul>
            <li><a href="../../config/webxml.html">Deployment Descriptor</a></li>
    <li><a href="../../config/appconfig.html">App Config</a></li>
    <li><a href="../../config/backends.html">Backends Config</a></li>
    <li><a href="../../config/indexconfig.html">Index Config</a></li>
    <li><a href="../../config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../config/queue.html">Task Queue Config</a></li>
    <li><a href="../../config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../../configyaml/index.html">YAML Configuration</a>
      <ul>
                <li><a href="../../configyaml/appconfig_yaml.html">YAML App Config</a></li>
        <li><a href="../../configyaml/backends.html">Backends Config</a></li>
        <li><a href="../../configyaml/indexconfig.html">Index Config</a></li>
        <li><a href="../../configyaml/cron.html">Scheduled Tasks</a></li>
        <li><a href="../../configyaml/queue.html">Task Queue Config</a></li>
        <li><a href="../../configyaml/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../../tools/index.html">Tools</a>
      <ul>
            <li><a href="../../tools/devserver.html">Development Server</a></li>
    <li><a href="../../tools/uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="../../tools/eclipse.html">Google Plugin for Eclipse</a></li>
    <li><a href="../../tools/ant.html">Using Apache Ant</a></li>
    <li><a href="../../tools/capabilities.html">Capabilities Service Test Configuration</a>
    <li><a href="../../tools/localunittesting.html">Local Unit Testing</a>
        <ul>
            <li><a href="../../tools/localunittesting/javadoc/index.html">Testing Javadoc</a></li>
        </ul>
    </li>
    <li><a href="../../tools/appstats.html">Appstats</a></li>
    <li><a href="../../tools/remoteapi.html">Remote API</a></li>

      </ul>
    </li>
    <li><a href="../../howto/index.html">How-To</a>
      <ul>
              <li><a href="../../howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Python</h2>
    <ul>
          <li><a href="../../../python/overview.html">Overview</a></li>
    <li><a href="../../../python/runtime.html">Runtime Environment</a></li>
    <li><a href="../../../python/python27/index.html">Python 2.7</a>
      <ul>
            <li><a href="../../../python/python27/newin27.html">What's New in Python 2.7</a></li>
    <li><a href="../../../python/python27/using27.html">Using Python 2.7</a></li>

      </ul>
    </li>
    <li><a href="../../../python/backends/index.html">Backends</a>
      <ul>
        <li><a href="../../../python/backends/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../python/backends/functions.html">Backends API Functions</a></li>
    <li><a href="../../../python/backends/exceptions.html">Backends API Exceptions</a></li>
    <li><a href="../../../python/backends/logserviceapi.html">LogService API</a></li>
    <li><a href="../../../python/backends/applog.html">AppLog Class</a></li>
    <li><a href="../../../python/backends/requestlog.html">RequestLog Class</a></li>
    <li><a href="../../../python/backends/runtimeapi.html">Runtime API</a></li>
  </ul>
</li>

      </ul>
    </li>
    <li><a href="../../../python/datastore/index.html">Storing Data</a>
      <ul>
              <li><a href="../../../python/datastore/overview.html">Datastore Overview</a></li>
      <li><a href="../../../python/datastore/entities.html">Entities</a></li>
      <li><a href="../../../python/datastore/queries.html">Queries</a></li>
      <li><a href="../../../python/datastore/transactions.html">Transactions</a></li>
      <li><a href="../../../python/datastore/datamodeling.html">Data Modeling</a></li>
      <li><a href="../../../python/datastore/gqlreference.html">GQL Reference</a></li>
      <li><a href="../../../python/datastore/hr/index.html">Choosing a Datastore</a></li>
      <li><a href="../../../python/datastore/hr/overview.html">Using the High Replication Datastore</a></li>
      <li><a href="../../../python/datastore/metadataqueries.html">Metadata Queries</a></li>
      <li><a href="../../../python/datastore/stats.html">Statistics</a></li>
      <li><a href="../../../python/datastore/async.html">Async API</a></li>
      <li><span class="tlw-title tlw-expanded">Reference</span>
        <ul>
          <li><a href="../../../python/datastore/typesandpropertyclasses.html">Types and Property Classes</a></li>
          <li><a href="../../../python/datastore/gqlreference.html">GQL Reference</a></li>
          <li><a href="../../../python/datastore/modelclass.html">Model</a></li>
          <li><a href="../../../python/datastore/expandoclass.html">Expando</a></li>
          <li><a href="../../../python/datastore/polymodelclass.html">PolyModel</a></li>
          <li><a href="../../../python/datastore/propertyclass.html">Property</a></li>
          <li><a href="../../../python/datastore/queryclass.html">Query</a></li>
          <li><a href="../../../python/datastore/gqlqueryclass.html">GqlQuery</a></li>
          <li><a href="../../../python/datastore/metadataqueryclass.html">Metadata Query</a></li>
          <li><a href="../../../python/datastore/keyclass.html">Key</a></li>
          <li><a href="../../../python/datastore/functions.html">Functions</a></li>
          <li><a href="../../../python/datastore/exceptions.html">Exceptions</a></li>
        </ul>
      </li>

      </ul>
    </li>
    <li><a href="../../../python/dataprocessing/index.html">Data Processing</a>
      <ul>
             <li><a href="../../../python/dataprocessing/overview.html">Overview</a></li>
     <li><a href="../../../python/dataprocessing/helloworld.html">Hello World</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/dataprocessing/mapreducepipelineclass.html">Mapreduce Pipline</a></li>
         <li><a href="../../../python/dataprocessing/readers_writers.html">Standard Input Readers and Output Writers</a></li>
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="../../../python/apis.html">Services</a>
      <ul>
        <li><a href="../../../python/appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../../../python/appidentity/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../python/appidentity/functions.html">Functions</a></li>
    <li><a href="../../../python/appidentity/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../../python/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../../python/blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../python/blobstore/blobinfoclass.html">BlobInfo</a></li>
    <li><a href="../../../python/blobstore/blobkeyclass.html">BlobKey</a></li>
    <li><a href="../../../python/blobstore/blobreaderclass.html">BlobReader</a></li>
    <li><a href="../../../python/blobstore/functions.html">Functions</a></li>
    <li><a href="../../../python/blobstore/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../../python/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../../python/capabilities/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../python/capabilities/capabilitysetclass.html">CapabilitySet</a></li>
    <li><a href="../../../python/capabilities/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../../python/conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../../../python/conversion/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../python/conversion/conversionclass.html">Conversion Class</a></li>
    <li><a href="../../../python/conversion/propertyclasses.html">Property Classes</a></li>
    <li><a href="../../../python/conversion/functions.html">Functions</a></li>
    <li><a href="../../../python/conversion/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../../python/channel/index.html">Channel</a>
          <ul>
            <li><a href="../../../python/channel/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../python/channel/functions.html">Functions</a></li>
    <li><a href="../../../python/channel/exceptions.html">Exceptions</a></li>
    <li><a href="../../../python/channel/javascript.html">Client Javascript Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../../python/images/index.html">Images</a>
          <ul>
                 <li><a href="../../../python/images/overview.html">Overview</a></li>
     <li><a href="../../../python/images/installingPIL.html">Installing PIL</a></li>
     <li><a href="../../../python/images/usingimages.html">Using the Images API</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/images/imageclass.html">Image</a></li>
         <li><a href="../../../python/images/functions.html">Functions</a></li>
         <li><a href="../../../python/images/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../../python/mail/index.html">Mail</a>
          <ul>
                 <li><a href="../../../python/mail/overview.html">Overview</a></li>
     <li><a href="../../../python/mail/sendingmail.html">Sending Mail</a></li>
     <li><a href="../../../python/mail/receivingmail.html">Receiving Mail</a></li>
     <li><a href="../../../python/mail/attachments.html">Attachments</a></li>
     <li><a href="../../../python/mail/headers.html">Headers</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/mail/emailmessageclass.html">EmailMessage</a></li>
         <li><a href="../../../python/mail/emailmessagefields.html">Message Fields</a></li>
         <li><a href="../../../python/mail/functions.html">Functions</a></li>
         <li><a href="../../../python/mail/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../../python/memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../../../python/memcache/overview.html">Overview</a></li>
      <li><a href="../../../python/memcache/usingmemcache.html">Using Memcache</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/memcache/clientclass.html">Client</a></li>
         <li><a href="../../../python/memcache/functions.html">Functions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../../python/multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../../../python/multitenancy/overview.html">Overview</a></li>
    <li><a href="../../../python/multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../../../python/multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li>Reference
      <ul>
        <li><a href="../../../python/multitenancy/functions.html">Functions</a></li>
        <li><a href="../../../python/multitenancy/exceptions.html">Exceptions</a></li>
      </ul>
    </li>

          </ul>
        </li>
        <li><a href="../../../python/oauth/index.html">OAuth</a>
          <ul>
                 <li><a href="../../../python/oauth/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/oauth/functions.html">Functions</a></li>
         <li><a href="../../../python/oauth/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../../python/prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../../../python/prospectivesearch/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../python/prospectivesearch/functions.html">Functions</a></li>
    <li><a href="../../../python/prospectivesearch/exceptions.html">Exceptions</a></li>
  </ul>
</li> 

          </ul> 
        </li>
         <li><a href="../../../python/googlestorage/index.html">Google Cloud Storage</a>
          <ul>
            <li><a href="../../../python/googlestorage/overview.html">Overview</a></li>
<li><a href="../../../python/googlestorage/functions.html">Functions</a></li>
<li><a href="../../../python/googlestorage/exceptions.html">Exceptions</a></li>
    </li>


          </ul>
        </li>
        <li><a href="../../../python/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../../python/taskqueue/overview.html">Overview</a></li>
     <li><a href="../../../python/taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../../../python/taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/taskqueue/tasks.html">Task Class</a></li>
         <li><a href="../../../python/taskqueue/taskretryoptions.html">TaskRetryOptions Class</a></li>
         <li><a href="../../../python/taskqueue/queues.html">Queue Class</a></li>
         <li><a href="../../../python/taskqueue/rest.html">REST</a>  <span class="exp-feat">(Experimental)</span></li>
         <li><a href="../../../python/taskqueue/functions.html">Functions</a></li>
         <li><a href="../../../python/taskqueue/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../../python/urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../../../python/urlfetch/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/urlfetch/fetchfunction.html">The fetch Function</a></li>
         <li><a href="../../../python/urlfetch/asynchronousrequests.html">Asynchronous Requests</a></li>
         <li><a href="../../../python/urlfetch/responseobjects.html">Response Objects</a></li>
         <li><a href="../../../python/urlfetch/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../../python/users/index.html">Users</a>
          <ul>
                 <li><a href="../../../python/users/overview.html">Overview</a></li>
     <li><a href="../../../python/users/userobjects.html">User Objects</a></li>
     <li><a href="../../../python/users/loginurls.html">Login URLs</a></li>
     <li><a href="../../../python/users/adminusers.html">Admin Users</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/users/userclass.html">User</a></li>
         <li><a href="../../../python/users/functions.html">Functions</a></li>
         <li><a href="../../../python/users/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../../python/xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../../../python/xmpp/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/xmpp/functions.html">Functions</a></li>
         <li><a href="../../../python/xmpp/messageclass.html">Message</a></li>
         <li><a href="../../../python/xmpp/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../../../python/config/index.html">Configuration</a>
      <ul>
            <li><a href="../../../python/config/appconfig.html">App Config</a></li>
    <li><a href="../../../python/config/backends.html">Backends Config</a></li>
    <li><a href="../../../python/config/indexconfig.html">Index Config</a></li>
    <li><a href="../../../python/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../../python/config/queue.html">Task Queue Config</a></li>
    <li><a href="../../../python/config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><span class="tlw-title"><a href="../../../python/tools/index.html">Tools</a></span>
      <ul>
            <li><a href="../../../python/tools/devserver.html">Development Server</a></li>
    <li><a href="../../../python/tools/uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="../../../python/tools/uploadingdata.html">Uploading and Downloading Data</a></li>
    <li><span class="tlw-title"><a href="../../../python/tools/protorpc/index.html">ProtoRPC</a></span>
      <ul>
        <li><a href="../../../python/tools/protorpc/overview.html">Overview</a></li>
<li><a href="../../../python/tools/protorpc/definition-functions.html">Definition Module</a></li>
<li>Descriptor Module
  <ul>
        <li><a href="../../../python/tools/protorpc/descriptor/descriptorlibrary.html">DescriptorLibrary Functions</a></li>
    <li><a href="../../../python/tools/protorpc/descriptor/functions.html">Functions</a></li>

  </ul>
</li>
<li>Messages Module
  <ul>
        <li><a href="../../../python/tools/protorpc/messages/enumclass.html">Enum</a></li>
    <li><a href="../../../python/tools/protorpc/messages/enumfieldclass.html">EnumField</a></li>
    <li><a href="../../../python/tools/protorpc/messages/fieldclass.html">Field</a></li>
    <li><a href="../../../python/tools/protorpc/messages/fieldclasses.html">Message Field Classes</a></li>
    <li><a href="../../../python/tools/protorpc/messages/messageclass.html">Message</a></li>
    <li><a href="../../../python/tools/protorpc/messages/messagefieldclass.html">MessageField</a></li>
    <li><a href="../../../python/tools/protorpc/messages/variantclass.html">Variant</a></li>
    <li><a href="../../../python/tools/protorpc/messages/functions.html">Functions</a></li>
    <li><a href="../../../python/tools/protorpc/messages/exceptions.html">Exceptions</a></li>
  </ul>
</li>
<li>Remote Service Library
  <ul>
        <li><a href="../../../python/tools/protorpc/remote/index.html">Overview</a></li>
    <li><a href="../../../python/tools/protorpc/remote/httprequeststateclass.html">HttpRequestState Class</a></li>
    <li><a href="../../../python/tools/protorpc/remote/requeststateclass.html">RequestState Class</a></li>
    <li><a href="../../../python/tools/protorpc/remote/rpcstatusclass.html">RpcStatus Class</a></li>
    <li><a href="../../../python/tools/protorpc/remote/serviceclass.html">Service Class</a></li>
    <li><a href="../../../python/tools/protorpc/remote/functions.html">Functions</a></li>
    <li><a href="../../../python/tools/protorpc/remote/exceptions.html">Exceptions</a></li>

  </ul>
</li>
<li>Transport Library
  <ul>
        <li><a href="../../../python/tools/protorpc/transport/httptransport.html">HttpTransport Class</a></li>
    <li><a href="../../../python/tools/protorpc/transport/transport.html">Transport Class</a></li>

  </ul>
</li>
<li>WebApp Service Handlers
  <ul>
        <li><a href="../../../python/tools/protorpc/webapp/index.html">Overview</a></li>
    <li><a href="../../../python/tools/protorpc/webapp/functions.html">WebApp Service Handlers</a></li>

  </ul>
</li>

      </ul>
    </li>
    <li><a href="../../../python/tools/webapp/index.html">webapp Framework</a>
      <ul>
             <li><a href="../../../python/tools/webapp/overview.html">Overview</a></li>
     <li><a href="../../../python/tools/webapp/running.html">Running the Application</a></li>
     <li><a href="../../../python/tools/webapp/requesthandlers.html">Request Handlers</a></li>
     <li><a href="../../../python/tools/webapp/requestdata.html">Request Data</a></li>
     <li><a href="../../../python/tools/webapp/buildingtheresponse.html">Building the Response</a></li>
     <li><a href="../../../python/tools/webapp/redirects.html">Redirects, Headers and Status Codes</a></li>
     <li><a href="../../../python/tools/webapp/blobstorehandlers.html">Blobstore Handlers</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../../python/tools/webapp/requestclass.html">Request</a></li>
         <li><a href="../../../python/tools/webapp/responseclass.html">Response</a></li>
         <li><a href="../../../python/tools/webapp/requesthandlerclass.html">RequestHandler</a></li>
         <li><a href="../../../python/tools/webapp/wsgiapplicationclass.html">WSGIApplication</a></li>
         <li><a href="../../../python/tools/webapp/utilmodule.html">Utility Functions</a></li>
         
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="../../../python/tools/localunittesting.html">Local Unit Testing</a></li>
    <li><a href="../../../python/tools/appstats.html">Appstats</a></li>
    <li><a href="../../../python/tools/libraries.html">Included Libraries </a>(Python 2.5)</li>
    <li><a href="../../../python/tools/libraries27.html">Included Libraries</a>(Python 2.7)</li>
    <li><a href="../../../python/tools/appengineconfig.html">Python Module Configuration</a></li>

      </ul>
    </li>
    <li><a href="../../../python/howto/index.html">How-To</a>
      <ul>
              <li><a href="../../../python/howto/usinggdataservices.html">Google Data Services</a></li>
      <li><a href="../../../python/howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Go</h2> <span class="exp-feat">Experimental!</span>
    <ul>
          <li><a href="../../../go/overview.html">Overview</a></li>
    <li><a href="../../../go/runtime.html">Runtime Environment</a>
      <ul>
        <li><a href="../../../go/reference.html">Reference</a></li>
      </ul>
    </li>
    <li><a href="../../../go/backends/index.html">Backends</a>
      <ul>
        <li><a href="../../../go/backends/overview.html">Overview</a></li>
<li><a href="../../../go/backends/runtime.html">Runtime package</a></li>

      </ul>
    </li>
    <li><a href="../../../go/datastore/index.html">Storing Data</a>
      <ul>
             <li><a href="../../../go/datastore/overview.html">Overview</a></li>
     <li><a href="../../../go/datastore/transactions.html">Transactions</a></li>
     <li><a href="../../../go/datastore/reference.html">Reference</a></li>

      </ul>
    </li>
    <li><a href="../../../go/apis.html">Services</a>
      <ul>
        <li><a href="../../../go/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../../go/blobstore/overview.html">Overview</a></li>
<li><a href="../../../go/blobstore/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../../go/capabilities/overview.html">Overview</a></li>
<li><a href="../../../go/capabilities/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/channel/index.html">Channel</a>
          <ul>
            <li><a href="../../../go/channel/overview.html">Overview</a></li>
<li><a href="../../../go/channel/reference.html">Reference</a></li>
<li><a href="../../../go/channel/javascript.html">Client Javascript Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/mail/index.html">Mail</a>
          <ul>
                 <li><a href="../../../go/mail/overview.html">Overview</a></li>
     <li><a href="../../../go/mail/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../../../go/memcache/overview.html">Overview</a></li>
     <li><a href="../../../go/memcache/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../../go/taskqueue/overview.html">Overview</a></li>
     <li><a href="../../../go/taskqueue/reference.html">Reference</a></li>
     <li><a href="../../../go/taskqueue/delay.html">Delay package</a></li>

          </ul>
        </li>
        <li><a href="../../../go/urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../../../go/urlfetch/overview.html">Overview</a></li>
     <li><a href="../../../go/urlfetch/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/users/index.html">Users</a>
          <ul>
                 <li><a href="../../../go/users/overview.html">Overview</a></li>
     <li><a href="../../../go/users/reference.html">Reference</a></li>

          </ul>
        </li>
      </ul>
        <li><a href="../../../go/config/index.html">Configuration</a>
          <ul>
                <li><a href="../../../go/config/appconfig.html">App Config</a></li>
    <li><a href="../../../go/config/backends.html">Backends Config</a></li>
    <li><a href="../../../go/config/indexconfig.html">Index Config</a></li>
    <li><a href="../../../go/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../../go/config/queue.html">Task Queue Config</a></li>
    <li><a href="../../../go/config/dos.html">DoS Protection Config</a></li>

          </ul>
        </li>
        <li><a href="../../../go/tools/index.html">Tools</a>
          <ul>
                <li><a href="../../../go/tools/devserver.html">Development Server</a></li>
    <li><a href="../../../go/tools/uploadinganapp.html">Uploading and Managing an App</a></li>

          </ul>
        </li>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Managing Your App</h2>
    <ul>
      <li><a href="../../../adminconsole/index.html">Admin Console</a>
        <ul>
          <li><a href="../../../adminconsole/instances.html">Instances</a></li>
<li><a href="../../../adminconsole/roles.html">Roles</a></li>
<li><a href="../../../adminconsole/applicationsettings.html">Application Settings</a></li>
<li><a href="../../../adminconsole/datastoreadmin.html">Datastore</a></li>
<li><a href="../../../adminconsole/performancesettings.html">Performance Settings</a></li>

        </ul>
      </li>
      <li><a href="../../../quotas.html">Quotas</a></li>
      <li><a href="../../../billing.html">Billing</a></li>
      <li><a href="../../../premier/index.html">Premier Accounts</a></li>
      <li><a href="../../../domain.html">Using a Custom Domain</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Resources</h2>
    <ul>
      <li><a href="../../../../kb/index.html">FAQ</a></li>
      <li><a href="../../../../articles/index.html">Articles</a></li>
      <li><a href="../../../videoresources.html">Video Resources</a><sup class="new">New!</sup></li>
      <li><a href="http://code.google.com/p/googleappengine/">SDK Code</a></li>
      <li><a href="http://code.google.com/p/datanucleus-appengine/">JDO/JPA Code</a></li>
      <li><a href="http://code.google.com/p/google-app-engine-samples/">Sample Apps Code</a></li>
      <li>Launcher Code
        <ul>
          <li><a href="http://code.google.com/p/google-appengine-mac-launcher/">Mac</a></li>
          <li><a href="http://code.google.com/p/google-appengine-wx-launcher/">Windows/wx</a></li>
        </ul>
      </li>
      <li><a href="../../../../community.html">Discussion Groups</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><a href="../../../roadmap.html">Product Roadmap</a></li>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkReleaseNotes">Release Notes: Python</a></li>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkForJavaReleaseNotes">Release Notes: Java</a></li>
  <li><a href="../../../revision_history.html">Revision History</a></li>
</ul>

        <a class="hidden" href="#gc-topnav-anchor">More Google App Engine resource links</a>
      </div>

      <div class="g-unit" id="gc-pagecontent">
        <h1 class="page_title">Queries in JDO</h1>



<p class="note">This document focuses on the use of queries with the Java Data Objects (JDO) persistence framework. For more general information about queries in App Engine, please visit the main <a href="../queries.html">Queries page</a>.

<p>Every datastore query uses an index, a table that contains the results for the query in the desired order. An App Engine application defines its indexes in a configuration file named <code>datastore-indexes.xml</code>. The development web server automatically generates suggestions for this file as it encounters queries that do not yet have indexes configured.</p>

<p>The index-based query mechanism supports most common kinds of queries, but it does not support some queries you may be used to from other database technologies. For more information on App Engine indexes read the <a href="../queries.html#Introduction_to_Indexes">Introduction to Indexes</a>. Restrictions on queries, and their explanations, are described below.</p>

<ul>
  <li><a href="#Introducing_Queries">Introducing Queries in JDO</a></li>
  <li><a href="#Queries_on_Keys">Querying Entity Keys</a></li>
  <li><a href="#Delete_By_Query">Deleting Entities By Query</a></li>
  <li><a href="#Query_Cursors">Using Query Cursors in JDO</a></li>
  <li><a href="#Setting_the_Read_Policy_and_Datastore_Call_Deadline">Setting the Read Policy and Datastore Call Deadline</a></li>
</ul>


<h2 id="Introducing_Queries">Introducing Queries in JDO</h2>

<p>A query retrieves entities from the datastore that meet a set of conditions. The query specifies an entity kind, zero or more conditions based on entity property values (sometimes called "filters"), and zero or more sort order descriptions. When the query is executed, it fetches all entities of the given kind that meet all of the given conditions, sorted in the order described.</p>

<p>A query can also return <a href="#Queries_on_Keys">just the keys</a> of the result entities instead of the entities themselves.</p>

<p>JDO can perform queries for entities that meet certain criteria. You can also use a JDO Extent to represent the collection of every entity of a kind (every stored object of a class).</p>

<h3>Queries with JDOQL</h3>

<p>JDO includes a query language for retrieving objects that meet a set of criteria. This language, called JDOQL, refers to JDO data classes and fields directly, and includes type checking for query parameters and results. JDOQL is similar to SQL, but is more appropriate for object-oriented databases like the App Engine datastore. (The App Engine datastore does not support SQL queries with the JDO interface.)</p>

<p>The query API supports several calling styles. You can specify a complete query in a string, using the JDOQL string syntax. You can also specify some or all parts of the query by calling methods on the query object.</p>

<p>Here is a simple example of a query using the method style of calling, with one filter and one sort order, using parameter substitution for the value used in the filter. The Query object's <code>execute()</code> method is called with the values to substitute in the query, in the order they are declared.</p>

<pre class="prettyprint">
import java.util.List;
import javax.jdo.Query;

// ...

    Query query = pm.newQuery(Employee.class);
    query.setFilter("lastName == lastNameParam");
    query.setOrdering("hireDate desc");
    query.declareParameters("String lastNameParam");

    try {
        List&lt;Employee&gt; results = (List&lt;Employee&gt;) query.execute("Smith");
        if (!results.isEmpty()) {
            for (Employee e : results) {
                // ...
            }
        } else {
            // ... no results ...
        }
    } finally {
        query.closeAll();
    }
</pre>

<p>Here is the same query using the string syntax:</p>

<pre class="prettyprint">
    Query query = pm.newQuery("select from Employee " +
                              "where lastName == lastNameParam " +
                              "parameters String lastNameParam " +
                              "order by hireDate desc");

    List&lt;Employee&gt; results = (List&lt;Employee&gt;) query.execute("Smith");
</pre>

<p>You can mix these styles of defining the query. For example:</p>

<pre class="prettyprint">
    Query query = pm.newQuery(Employee.class,
                              "lastName == lastNameParam order by hireDate desc");
    query.declareParameters("String lastNameParam");

    List&lt;Employee&gt; results = (List&lt;Employee&gt;) query.execute("Smith");
</pre>

<p>You can reuse a single Query instance with different values substituted for the parameters by calling the <code>execute()</code> method multiple times. Each call performs the query and returns the results as a collection.</p>

<p>The JDOQL string syntax supports value literals within the string for string values and numeric values. Surround strings in either single-quotes (<code>'</code>) or double-quotes (<code>&quot;</code>). All other value types must use parameter substitution. Here is an example using a string literal value:</p>

<pre class="prettyprint">
    Query query = pm.newQuery(Employee.class,
                              "lastName == 'Smith' order by hireDate desc");
</pre>


<h3>Query Filters</h3>

<p>A <b>filter</b> specifies a field name, an operator, and a value. The value must be provided by the app; it cannot refer to another field, or be calculated in terms of other fields.</p>

<p>The filter operator can be any of the following:</p>
<ul>
  <li><code>&lt;</code> less than</li>
  <li><code>&lt;=</code> less than or equal to</li>
  <li><code>=</code> equal to</li>
  <li><code>&gt;</code> greater than</li>
  <li><code>&gt;=</code> greater than or equal to</li>
  <li><code>!=</code> not equal to</li>
</ul>

<p><code>contains()</code> filters (more commonly known as <code>IN</code> filters in SQL) are also supported using the following syntax:</p>

<pre class="prettyprint">
    // Give me all employees with lastName equal to Smith or Jones
    Query query = pm.newQuery(Employee.class,
                              ":p.contains(lastName)");
    query.execute(Arrays.asList("Smith", "Jones"));
</pre>

<p>The <code>!=</code> operator actually performs two queries: one where all other filters are the same and the not-equal filter is replaced with a less-than filter, and one where the not-equal filter is replaced with a greater-than filter. The results are merged, in order. As described below in the discussion of inequality filters, a query can only have one not-equal filter, and such a query cannot have other inequality filters.</p>

<p>The <code>contains()</code> operator also performs multiple queries, one for each item in the provided list value where all other filters are the same and the <code>contains()</code> filter is replaced with an equal-to filter. The results are merged, in the order of the items in the list. If a query has more than one <code>contains()</code> filter, the query is performed as multiple queries, one for each combination of values in the <code>contains()</code> filters.</p>

<p>A single query containing <code>!=</code> or <code>contains()</code> operators is limited to 30 sub-queries.</p>

<p>For more information, please refer to <a href="http://gae-java-persistence.blogspot.com/2009/12/queries-with-and-in-filters.html">Queries with != and IN filters</a>.</p>



<p>Due to the way the App Engine datastore executes queries, a single query cannot use inequality filters (<code>&lt; &lt;= &gt;= &gt; !=</code>) on more than one property. Multiple inequality filters on the same property (such as querying for a range of values) are permitted.</p>

<pre class="prettyprint">
    query.setFilter("lastName == 'Smith' &amp;&amp; hireDate &gt; hireDateMinimum");
    query.declareParameters("Date hireDateMinimum");
</pre>

<p>An entity must match all filters to be a result. In the JDOQL string syntax, you can separate multiple filters with <code>||</code> (logical "or") and <code>&amp;&amp;</code> (logical "and"), although keep in mind that <code>||</code> can only be employed when the filters it separates all have the same field name. In other words, <code>||</code> is only legal in situations where the filters it separates can be combined into a single <code>contains()</code> filter:</p>

<pre class="prettyprint">
    // legal, all filters separated by || are on the same field
    Query query = pm.newQuery(Employee.class,
                              "(lastName == 'Smith' || lastName == 'Jones')" +
                              " && firstName == 'Harold'");

    // not legal, filters separated by || are on different fields
    Query query = pm.newQuery(Employee.class,
                              "lastName == 'Smith' || firstName == 'Harold'");
</pre>

<p>Negation (logical "not") is not supported.</p>


<h3>Query Sort Orders</h3>

<p>A <b>sort order</b> specifies a property and a direction, either ascending or descending. The results are returned sorted by the given orders, in the order they were specified. If no sort orders are specified for the query, the ordering of the results is undefined and will be returned as they are retrieved from the datastore.</p>

<p>Due to the way the App Engine datastore executes queries, if a query specifies inequality filters on a property and sort orders on other properties, the property used with the inequality filters must be ordered <i>before</i> the other properties.</p>

<pre class="prettyprint">
    query.setOrdering("hireDate desc, firstName asc");
</pre>


<h3>Query Ranges</h3>

<p>A query can specify a <b>range</b> of results to be returned to the application. The range specifies which result in the complete result set should be the first one returned, and which should be the last, using numeric indexes, starting with zero for the first result. For example, a range of <code>5, 10</code> returns the 6th, 7th, 8th, 9th and 10th results.</p>

<p>The starting offset has implications for performance: the datastore must retrieve and then discard all results prior to the starting offset. For example, a query with a range of <code>5, 10</code> fetches ten results from the datastore, then discards the first five and returns the remaining five to the application.</p>

<pre class="prettyprint">
    query.setRange(5, 10);
</pre>

<p>If your goal is to implement pagination with the App Engine datastore, you should instead consider the techniques described in <a href="../../../../articles/paging.html">this article.</a>  The examples in this article are in Python, but the same concepts apply in Java.</p>

<h3>Extents</h3>

<p>A JDO Extent represents every object in the datastore of a particular class.</p>

<p>You start an Extent using the PersistenceManager's <code>getExtent()</code> method, passing it to the data class. The Extent class implements the Iterable interface for accessing results. When you are done accessing results, you call the <code>closeAll()</code> method.</p>

<p>The following example iterates over every Employee object in the datastore:</p>

<pre class="prettyprint">
import java.util.Iterator;
import javax.jdo.Extent;

// ...

    Extent<Employee> extent = pm.getExtent(Employee.class, false);
    for (Employee e : extent) {
        // ...
    }
    extent.closeAll();
</pre>

<p>An extent retrieves results in batches, as needed.</p>

<h2 id="Queries_on_Keys">Querying Entity Keys</h2>

<p>Entity keys can be the subject of a query filter or sort order. In JDO, you refer to the entity key in the query using the primary key field of the object. The datastore considers the complete key value for such queries, including the entity's parent path, the kind, and the app-assigned key name string or system-assigned numeric ID.</p>

<p>To use a key as a query filter, you specify the parameter type to be a <code>Key</code> with <code>declareParameters()</code>. The following finds all Persons with a given favorite food, assuming an unowned <a href="relationships.html#Unowned_Relationships">one-to-one</a> relationship between Person and Food:</p>
<pre class="prettyprint">
    Food chocolate = ...
    Query q = pm.newQuery(Person.class);
    query.setFilter("favoriteFood = favoriteFoodParam");
    query.declareParameters(Key.class.getName() + " favoriteFoodParam");
    List&lt;Person&gt; chocolateLovers = (List&lt;Person&gt;) q.execute(chocolate.getKey());
</pre>

<p>A query can return entity keys instead of full entities. You can trigger this behavior by only selecting the <code>@PrimaryKey</code> field in your query:</p>
<pre class="prettyprint">
    Query q = pm.newQuery("select id from " + Person.class.getName());
    List&lt;String&gt; ids = (List&lt;String&gt;) q.execute();
</pre>

<p class="note"><b>Note:</b> Queries that return keys are faster and cost less CPU than queries that return entities, since the keys themselves are already in the index. As a result, the query doesn't need to fetch the actual entities. If you only need the keys from your query results, consider using a keys-only query.</p>

<p>Because an entity key is unique across all entities in the system, key queries make it easy to retrieve entities of a given kind in batches, such as for a batch dump of the contents of the datastore. Unlike JDOQL ranges, this works efficiently for any number of entities.</p>

<p>Keys are ordered first by parent path, then by kind, then by key name or ID. Kinds and key names are strings and are ordered by byte value. IDs are integers and are ordered numerically. If entities of the same parent and kind use a mix of key name strings and numeric IDs, entities with numeric IDs are considered to be less than entities with key name strings. Elements of the parent path are compared similarly: by kind (string), then by key name (string) or ID (number).</p>

<p>Queries involving keys use indexes just like queries involving properties. Queries on keys require custom indexes in the same cases as with properties, with a couple of exceptions: inequality filters or an ascending sort order on <a href="../../javadoc/com/google/appengine/api/datastore/Entity.html#KEY_RESERVED_PROPERTY">Entity.KEY_RESERVED_PROPERTY</a> do not require a custom index, but a descending sort order on <code>Entity.KEY_RESERVED_PROPERTY</code> does. As with all queries, the development web server creates appropriate configuration entries in this file when a query that needs a custom index is tested.</p>

<h2 id="Delete_By_Query">Deleting Entities By Query</h2>
<p>If you are issuing a query with the goal of deleting all the entities that match the query filter, you can save yourself a bit of coding by using JDO's "delete by query" feature. The following deletes all People over a given height:</p>
<pre class="prettyprint">
    Query query = pm.newQuery(Person.class);
    query.setFilter("height &gt; maxHeightParam");
    query.declareParameters("int maxHeightParam");
    query.deletePersistentAll(maxHeight);
</pre>
<p>You'll notice that the only difference here is that instead of calling <code>query.execute(...)</code> we are instead calling <code>query.deletePersistentAll(...)</code>. All of the rules and restrictions relating to filters, sort orders, and indexes explained above apply to queries whether you are selecting or deleting the result set. Note, however, that just as if you had deleted these Person entities with <code>pm.deletePersistent(...)</code>, any dependent children of the entities deleted by the query will also be deleted. For more information on dependent children please see <a href="relationships.html#Dependent_Children_and_Cascading_Deletes">Dependent Children and Cascading Deletes</a>.</p>

<h2 id="Query_Cursors">Using Query Cursors in JDO</h2>

<p>In JDO, you can use an extension and the <code>JDOCursorHelper</code> class to use cursors with JDO queries. Cursors work when fetching results as a list or using an iterator. To get a <code>Cursor</code>, you pass either the result <code>List</code> or <code>Iterator</code> to the <code>JDOCursorHelper.getCursor()</code> static method:</p>

<pre class="prettyprint">
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import javax.jdo.Query;
import com.google.appengine.api.datastore.Cursor;
import org.datanucleus.store.appengine.query.JDOCursorHelper;

// ...
        Query query = pm.newQuery(Employee.class);
        query.setRange(0, 20);
        // ...

        List&lt;Employee&gt; results = (List&lt;Employee&gt;) query.execute();
        // Use the first 20 results...

        Cursor cursor = JDOCursorHelper.getCursor(results);
        String cursorString = cursor.toWebSafeString();
        // Store the cursorString...

        // ...

        // Query query = the same query that produced the cursor
        // String cursorString = the string from storage
        Cursor cursor = Cursor.fromWebSafeString(cursorString);
        Map&lt;String, Object&gt; extensionMap = new HashMap&lt;String, Object&gt;();
        extensionMap.put(JDOCursorHelper.CURSOR_EXTENSION, cursor);
        query.setExtensions(extensionMap);
        query.setRange(0, 20);

        List&lt;Employee&gt; results = (List&lt;Employee&gt;) query.execute();
        // Use the next 20 results...
</pre>

<p>For more information, see <a href="../queries.html#Query_Cursors">Query Cursors</a>.</p>

<h2 id="Setting_the_Read_Policy_and_Datastore_Call_Deadline">Setting the Read Policy and Datastore Call Deadline</h2>
<p>You can set the read policy (strong consistency vs. eventual consistency) and the datastore call deadline for all calls made by a PersistenceManager instance using configuration. You can also override these options for an individual Query object.</p>
<p>To override the read policy for a single <code>Query</code>, call its <code>addExtension()</code> method as follows:</p>
<pre class="prettyprint">        Query q = pm.newQuery(Employee.class);
        q.addExtension("datanucleus.appengine.datastoreReadConsistency", "EVENTUAL");</pre>
<p>The possible values are <code>"EVENTUAL"</code> (for reads with eventual consistency) and <code>"STRONG"</code> (for reads with strong consistency). The default is <code>"STRONG"</code>, unless set otherwise in the configuration set in the <code>jdoconfig.xml</code>.</p>
<p>To override the datastore call deadline for a single <code>Query</code>, call its <code>setTimeoutMillis()</code> method:</p>

<pre class="prettyprint">q.setTimeoutMillis(3000);</pre>

<p>The value is an amount of time, as a number of milliseconds.</p>
<p>There is no way to override the configuration for these options when you fetch entities by key.</p>
<p>When eventual consistency is selected for a datastore query, the indexes the query uses to gather results are also accessed with eventual consistency. Queries occasionally return entities that don't match the query criteria&mdash'though this is also true with a strongly consistent read policy. (You can use <a href="../transactions.html">transactions</a> to ensure a consistent result set if the query uses an ancestor filter.) See <a href="../../../../articles/transaction_isolation.html">Transaction Isolation in App Engine</a> for more information on how entities and indexes are updated.</p>


      </div><!-- end gc-pagecontent -->
   </div><!-- end gooey wrapper -->

    </div> <!-- end codesite content -->


<div id="gc-footer" dir="ltr">
  <div class="text">
    
      <div class="notice"><div id="notice" style="text-align: center; border: 1em 0em 1em 0em">
  Except as otherwise <a
  href="http://code.google.com/policies.html#restrictions">noted</a>,
  the content of this page is licensed under the <a rel="license"
  href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
  Attribution 3.0 License</a>, and code samples are licensed under the
  <a rel="license" href="http://www.apache.org/licenses/LICENSE-2.0">Apache
  2.0 License</a>.
<!-- <rdf:RDF xmlns="http://web.resource.org/cc/" 
              xmlns:dc="http://purl.org/dc/elements/1.1/"
              xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <Work rdf:about="">
    <license rdf:resource="http://creativecommons.org/licenses/by/3.0/" />
  </Work>
  <License rdf:about="http://creativecommons.org/licenses/by/3.0/">
    <permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
    <permits rdf:resource="http://web.resource.org/cc/Distribution"/>
    <requires rdf:resource="http://web.resource.org/cc/Notice"/>
    <requires rdf:resource="http://web.resource.org/cc/Attribution"/>
    <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/>
  </License>
</rdf:RDF> -->
</div>
Java is a registered trademark of Oracle Corporation and/or its affiliates</div>
    
    ©2011 Google -
    <a href="http://code.google.com">Code Home</a> -
    <a href="http://code.google.com/terms.html">Site Terms of Service</a> -
    <a href="http://code.google.com/privacy.html">Privacy Policy</a> -
    <a href="http://code.google.com/more">Site Directory</a>
    <br> <br>
    Google Code offered in:
    <a href="http://code.google.com/intl/en">English</a> -
    <a href="http://code.google.com/intl/es">Español</a> -
    <a href="http://code.google.com/intl/ja">日本語</a> -
    <a href="http://code.google.com/intl/ko">한국어</a> -
    <a href="http://code.google.com/intl/pt-BR">Português</a> -
    <a href="http://code.google.com/intl/ru">Pусский</a> -
    <a href="http://code.google.com/intl/zh-CN">中文(简体)</a> -
    <a href="http://code.google.com/intl/zh-TW">中文(繁體)</a>
  </div>
</div><!-- end gc-footer -->

</div><!-- end gc-container -->

<script type="text/javascript">CODESITE_CSITimer['load'].tick('ats');</script>
<script src="../../../../../js/codesite_tail.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>





  </body>
</html>


