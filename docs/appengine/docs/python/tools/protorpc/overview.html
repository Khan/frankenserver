
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">


















 
 
 
 
 
  
  


<html>
  <head>
    <script type="text/javascript" language="JavaScript">
    ORIGINAL_PAGE_PATH = "/appengine/docs/python/tools/protorpc/overview.html";
    </script>
    
    
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<title>ProtoRPC Python API Overview - Google App Engine - Google Code</title>
<script type="text/javascript"><!--
(function(){function a(){this.t={};this.tick=function(c){this.t[c]=(new Date).getTime()};this.tick("start")}var b=new a;window.jstiming={Timer:a,load:b};if(window.external&&window.external.pageT)window.jstiming.pt=window.external.pageT;})();

var _tocPath_ = '/appengine/docs/_toc.ezt';
var codesite_token = null;
var logged_in_user_email = null;
//--></script>
<link href="../../../../../css/codesite.pack.04102009.css" type="text/css" rel="stylesheet">
<script src="../../../../../js/codesite_head.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript">CODESITE_CSITimer['load'].tick('bhs');</script>
<link rel="search" type="application/opensearchdescription+xml" title="Google Code" href="http://code.google.com/osd.xml">

<!--[if IE]><link rel="stylesheet" type="text/css" href="../../../../../css/iehacks.css"><![endif]-->

    <link href="../../../../../css/semantic_headers.css" rel="stylesheet" type="text/css" />
    <link href="../../../../css/local_extensions.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="gc-documentation">

    
    
    <script type="text/javascript">
var _gaq = _gaq || [];

var cookiePath = '/appengine/';
if (cookiePath.lastIndexOf('.html') > cookiePath.lastIndexOf('/')) {
  cookiePath = cookiePath.substring(0, cookiePath.lastIndexOf('/') + 1);
};

_gaq.push(


    ['siteTracker._setAccount', 'UA-18071-1'],
    ['siteTracker._setDomainName', 'code.google.com'],
    ['siteTracker._trackPageview']
);
(function() {
  var ga = document.createElement('script');
  ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] ||
   document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
</script>


<div id="gb">
 <span>
  
    <a id="lang-dropdown" href="http://code.google.com" onclick="return false;"><span style="text-decoration:underline">English</span> <span style="font-size:.75em;">&#9660;</span></a>
  
 </span>
</div>

<div class="gbh" style="left:0px;"></div>
<div class="gbh" style="right:0px;"></div>


<div id="gc-container">
<a id="top"></a>
<div id="skipto">
  <a href="#gc-pagecontent">Skip to page content</a>
  <a href="#gc-toc">Skip to main navigation</a>
</div>

<div id="gc-header">
  <div id="logo"><a href="http://code.google.com">
  
     <img src="../../../../../images/code_logo.gif" height="40" width="167" alt="Google Code" style="border:0;margin:3px 0 0 0;">
  
  </a></div>
  <div id="search">
    <div id="searchForm">
      <form id="cse" action="http://www.google.com/cse" accept-charset="utf-8" onsubmit="executeGSearch(document.getElementById('gsearchInput').value); return false;">
      <noscript>
      <input type="hidden" name="cref" value="http://code.google.com/cse/googlecode-context.xml">
      </noscript>
      <div id="gsc-search-box">
        <input id="gsearchInput" type="text" name="q" maxlength="2048" class="gsc-input" autocomplete="off" title="Google Code Search" style="width:345px">
        <div id="cs-searchresults" onclick="event.cancelBubble = true;"></div>
        <input title="Search" id="gsearchButton" class="gsc-search-button" name="sa" value="Search" type="submit">
        <div class="greytext">e.g. "templates" or "datastore"</div>
      </div>
      </form>
    </div> <!-- end searchForm -->
  </div> <!-- end search -->




</div> <!-- end gc-header -->


<div id="codesiteContent">

<a id="gc-topnav-anchor"></a>
<div id="gc-topnav">
  <h1 style="padding:0 0 0 6px;">Google App Engine</h1>
  <ul id="docs" class="gc-topnav-tabs">

    <li id="home_link">
      <a href="../../../../index.html" title="Google App Engine home page">Home</a>
    </li>
  
    <li id="docs_link">
      <a href="../../../index.html" class="selected" title="Official Google App Engine documentation">Docs</a>
    </li>
  
    <li id="faq_link">
      <a href="../../../../kb/index.html" title="Answers to frequently asked questions about Google App Engine">FAQ</a>
    </li>
  
    <li id="articles_link">
      <a href="../../../../articles/index.html" title="Focused articles and tutorials for Google App Engine developers">Articles</a>
    </li>
  
    <li>
      <a href="http://googleappengine.blogspot.com/" title="Official Google App Engine blog">Blog</a>
    </li>
  
    <li>
      <a href="../../../../community.html" title="Community home for Google App Engine">Community</a>
    </li>
  
    <li>
      <a href="../../../../terms.html" title="Google App Engine terms of service">Terms</a>
    </li>
  
    <li>
      <a href="../../../../downloads.html" title="Download Google App Engine">Download</a>
    </li>
  

  
  
  
  
  <li><g:plusone size="small" count="false" source="google:googlecode"></g:plusone>&nbsp;</li>
</ul>
</div> <!-- end gc-topnav -->


    <div class="g-section g-tpl-170">

      <div class="g-unit g-first" id="gc-toc">
        <ul>
  <li><a href="../../../../downloads.html">Downloads</a></li>
  <li><a href="../../../../tools_tips.html">Tools and Tips</a></li>
  <li><a href="../../../glossary.html">Glossary</a><sup class="new">New!</sup></li>
  <li><a href="https://appengine.google.com/">Admin Console</a></li>
  <li><a href="http://code.google.com/status/appengine">System Status</a></li>
  <li><a href="http://code.google.com/p/googleappengine/issues/list">Issue Tracker</a></li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Getting Started</h2>
    <ul>
      <li><a href="../../../whatisgoogleappengine.html">What Is Google App Engine?</a></li>
      <li><a href="../../../java/gettingstarted/index.html">Java</a>
        <ul>
              <li><a href="../../../java/gettingstarted/introduction.html">Introduction</a></li>
    <li><a href="../../../java/gettingstarted/installing.html">Installing the Java SDK</a></li>
    <li><a href="../../../java/gettingstarted/creating.html">Creating a Project</a></li>
    <li><a href="../../../java/gettingstarted/usingusers.html">Using the Users Service</a></li>
    <li><a href="../../../java/gettingstarted/usingjsps.html">Using JSPs</a></li>
    <li><a href="../../../java/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
    <li><a href="../../../java/gettingstarted/staticfiles.html">Using Static Files</a></li>
    <li><a href="../../../java/gettingstarted/uploading.html">Uploading Your Application</a></li>
    <li><a href="http://googcloudlabs.appspot.com">Codelabs for Getting Started in Java</a></li>

        </ul>
      </li>
      <li><a href="../../gettingstarted/index.html">Python 2.5</a>
        <ul>
            <li><a href="../../gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../../gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../../gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../../gettingstarted/usingwebapp.html">Using the webapp Framework</a></li>
  <li><a href="../../gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../../gettingstarted/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../../gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../../gettingstarted/templates.html">Using Templates</a></li>
  <li><a href="../../gettingstarted/staticfiles.html">Using Static Files</a></li>
  <li><a href="../../gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../../gettingstartedpython27/index.html">Python 2.7</a>
        <ul>
            <li><a href="../../gettingstartedpython27/introduction.html">Introduction</a></li>
  <li><a href="../../gettingstartedpython27/devenvironment.html">The Development Environment</a></li>
  <li><a href="../../gettingstartedpython27/helloworld.html">Hello, World!</a></li>
  <li><a href="../../gettingstartedpython27/usingwebapp.html">Explaining the webapp2 Framework</a></li>
  <li><a href="../../gettingstartedpython27/usingusers.html">Using the Users Service</a></li>
  <li><a href="../../gettingstartedpython27/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../../gettingstartedpython27/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../../gettingstartedpython27/templates.html">Using Templates</a></li>
  <li><a href="../../gettingstartedpython27/staticfiles.html">Using Static Files</a></li>
  <li><a href="../../gettingstartedpython27/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../../../go/gettingstarted/index.html">Go</a>
        <ul>
          <li><span class="exp-feat">Experimental!</span></li>
            <li><a href="../../../go/gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../../../go/gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../../../go/gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../../../go/gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../../../go/gettingstarted/handlingforms.html">Handling Forms</a></li>
  <li><a href="../../../go/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../../../go/gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Java</h2>
    <ul>
          <li><a href="../../../java/overview.html">Overview</a></li>
    <li><a href="../../../java/runtime.html">Servlet Environment</a></li>
    <li><a href="../../../java/backends/index.html">Backends</a>
      <ul>
        <li><a href="../../../java/backends/overview.html">Overview</a></li>
<li><a href="../../../java/javadoc/com/google/appengine/api/backends/package-summary.html">Javadoc Reference</a></li>


      </ul>
    </li>
    <li><a href="../../../java/datastore/index.html">Storing Data</a>
      <ul>
            <li><a href="../../../java/datastore/overview.html">Overview</a></li>
    <li><a href="../../../java/datastore/entities.html">Entities</a></li>
    <li><a href="../../../java/datastore/queries.html">Queries</a></li>
    <li><a href="../../../java/datastore/transactions.html">Transactions</a></li>
    <li><a href="../../../java/datastore/hr/index.html">Choosing a Datastore</a></li>
    <li><a href="../../../java/datastore/hr/overview.html">Using the High Replication Datastore</a></li>
    <li><a href="../../../java/datastore/metadataqueries.html">Metadata Queries</a></li>
    <li><a href="../../../java/datastore/stats.html">Statistics</a></li>
    <li><a href="../../../java/datastore/async.html">Async API</a></li>
    <li><a href="../../../java/datastore/callbacks.html">Callbacks</a></li>
    <li><a href="../../../java/datastore/jdo/index.html">JDO</a>
      <ul>
            <li><a href="../../../java/datastore/jdo/overview.html">Overview</a></li>
    <li><a href="../../../java/datastore/jdo/dataclasses.html">Defining Data Classes with JDO</a></li>
    <li><a href="../../../java/datastore/jdo/creatinggettinganddeletingdata.html">Creating, Getting, and Deleting Data in JDO</a></li>
    <li><a href="../../../java/datastore/jdo/relationships.html">Entity Relationships in JDO</a></li>
    <li><a href="../../../java/datastore/jdo/queries.html">Queries in JDO</a></li>

      </ul>
    </li>
    <li><a href="../../../java/datastore/jpa/index.html">JPA</a>
      <ul>
            <li><a href="../../../java/datastore/jpa/overview.html">Overview</a></li>

      </ul>
    </li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/datastore/package-summary.html">Javadoc Reference</a></li>

      </ul>
    </li>
    <li><a href="../../../java/apis.html">Services</a>
      <ul>
        <li><a href="../../../java/appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../../../java/appidentity/overview.html">Overview</a></li>

<li><a href="../../../java/javadoc/com/google/appengine/api/appidentity/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../../java/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../../java/blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../../java/javadoc/com/google/appengine/api/blobstore/package-summary.html">API Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../../java/googlestorage/index.html">Google Cloud Storage</a>
          <ul>
            <li><a href="../../../java/googlestorage/overview.html">Overview</a></li>
<li><a href="../../../java/javadoc/com/google/appengine/api/files/package-summary.html">API Reference</a></li>
    </li>


          </ul>
        </li>
        <li><a href="../../../java/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../../java/capabilities/overview.html">Overview</a></li>
<li><a href="../../../java/javadoc/com/google/appengine/api/capabilities/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../java/conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../../../java/conversion/overview.html">Overview</a></li>
<li><a href="../../../java/javadoc/com/google/appengine/api/conversion/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../java/channel/index.html">Channel</a>
          <ul>
            <li><a href="../../../java/channel/overview.html">Overview</a></li>
<li><a href="../../../java/javadoc/com/google/appengine/api/channel/package-summary.html">Javadoc Reference</a></li>
<li><a href="../../../java/channel/javascript.html">JavaScript Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../java/images/index.html">Images</a>
          <ul>
                <li><a href="../../../java/images/overview.html">Overview</a></li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/images/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../java/mail/index.html">Mail</a>
          <ul>
                <li><a href="../../../java/mail/overview.html">Overview</a></li>
    <li><a href="../../../java/mail/usingjavamail.html">Using JavaMail to Send Mail</a></li>
    <li><a href="../../../java/mail/receiving.html">Receiving Mail</a></li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/mail/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../../java/memcache/index.html">Memcache</a>
          <ul>
                <li><a href="../../../java/memcache/overview.html">Overview</a></li>
    <li><a href="../../../java/memcache/usingjcache.html">Using JCache</a></li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/memcache/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../../java/multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../../../java/multitenancy/overview.html">Overview</a></li>
    <li><a href="../../../java/multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../../../java/multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/NamespaceManager.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../java/oauth/index.html">OAuth</a>
          <ul>
                <li><a href="../../../java/oauth/overview.html">Overview</a></li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/oauth/package-summary.html">API Reference</a></li>


          </ul>
        </li>
        <li><a href="../../../java/prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../../../java/prospectivesearch/overview.html">Overview</a></li>
<li><a href="../../../java/javadoc/com/google/appengine/api/prospectivesearch/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        </li>
        <li><a href="../../../java/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../../java/taskqueue/overview.html">Overview</a></li>
     <li><a href="../../../java/taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../../../java/taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><a href="../../../java/javadoc/com/google/appengine/api/taskqueue/package-summary.html">Javadoc Reference</a></li>
     <li><a href="../../../java/taskqueue/rest.html">REST reference</a> <span class="exp-feat">(Experimental)</span></li>
          </ul>
        </li>
        <li><a href="../../../java/urlfetch/index.html">URL Fetch</a>
          <ul>
                <li><a href="../../../java/urlfetch/overview.html">Overview</a></li>
    <li><a href="../../../java/urlfetch/usingjavanet.html">Using java.net</a></li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/urlfetch/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../../java/users/index.html">Users</a>
          <ul>
                <li><a href="../../../java/users/overview.html">Overview</a></li>
    <li><a href="../../../java/javadoc/com/google/appengine/api/users/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../java/xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../../../java/xmpp/overview.html">Overview</a></li>
     <li><a href="../../../java/javadoc/com/google/appengine/api/xmpp/package-summary.html">API Reference</a></li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../../../java/javadoc/index.html">Services Javadoc</a></li>
    <li><a href="../../../java/jrewhitelist.html">JRE Class White List</a></li>
    <li><a href="../../../java/config/index.html">Configuration</a>
      <ul>
            <li><a href="../../../java/config/webxml.html">Deployment Descriptor</a></li>
    <li><a href="../../../java/config/appconfig.html">App Config</a></li>
    <li><a href="../../../java/config/backends.html">Backends Config</a></li>
    <li><a href="../../../java/config/indexconfig.html">Index Config</a></li>
    <li><a href="../../../java/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../../java/config/queue.html">Task Queue Config</a></li>
    <li><a href="../../../java/config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../../../java/configyaml/index.html">YAML Configuration</a>
      <ul>
                <li><a href="../../../java/configyaml/appconfig_yaml.html">YAML App Config</a></li>
        <li><a href="../../../java/configyaml/backends.html">Backends Config</a></li>
        <li><a href="../../../java/configyaml/indexconfig.html">Index Config</a></li>
        <li><a href="../../../java/configyaml/cron.html">Scheduled Tasks</a></li>
        <li><a href="../../../java/configyaml/queue.html">Task Queue Config</a></li>
        <li><a href="../../../java/configyaml/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../../../java/tools/index.html">Tools</a>
      <ul>
            <li><a href="../../../java/tools/devserver.html">Development Server</a></li>
    <li><a href="../../../java/tools/uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="../../../java/tools/eclipse.html">Google Plugin for Eclipse</a></li>
    <li><a href="../../../java/tools/ant.html">Using Apache Ant</a></li>
    <li><a href="../../../java/tools/capabilities.html">Capabilities Service Test Configuration</a>
    <li><a href="../../../java/tools/localunittesting.html">Local Unit Testing</a>
        <ul>
            <li><a href="../../../java/tools/localunittesting/javadoc/index.html">Testing Javadoc</a></li>
        </ul>
    </li>
    <li><a href="../../../java/tools/appstats.html">Appstats</a></li>
    <li><a href="../../../java/tools/remoteapi.html">Remote API</a></li>

      </ul>
    </li>
    <li><a href="../../../java/howto/index.html">How-To</a>
      <ul>
              <li><a href="../../../java/howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Python</h2>
    <ul>
          <li><a href="../../overview.html">Overview</a></li>
    <li><a href="../../runtime.html">Runtime Environment</a></li>
    <li><a href="../../python27/index.html">Python 2.7</a>
      <ul>
            <li><a href="../../python27/newin27.html">What's New in Python 2.7</a></li>
    <li><a href="../../python27/using27.html">Using Python 2.7</a></li>

      </ul>
    </li>
    <li><a href="../../backends/index.html">Backends</a>
      <ul>
        <li><a href="../../backends/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../backends/functions.html">Backends API Functions</a></li>
    <li><a href="../../backends/exceptions.html">Backends API Exceptions</a></li>
    <li><a href="../../backends/logserviceapi.html">LogService API</a></li>
    <li><a href="../../backends/applog.html">AppLog Class</a></li>
    <li><a href="../../backends/requestlog.html">RequestLog Class</a></li>
    <li><a href="../../backends/runtimeapi.html">Runtime API</a></li>
  </ul>
</li>

      </ul>
    </li>
    <li><a href="../../datastore/index.html">Storing Data</a>
      <ul>
              <li><a href="../../datastore/overview.html">Datastore Overview</a></li>
      <li><a href="../../datastore/entities.html">Entities</a></li>
      <li><a href="../../datastore/queries.html">Queries</a></li>
      <li><a href="../../datastore/transactions.html">Transactions</a></li>
      <li><a href="../../datastore/datamodeling.html">Data Modeling</a></li>
      <li><a href="../../datastore/gqlreference.html">GQL Reference</a></li>
      <li><a href="../../datastore/hr/index.html">Choosing a Datastore</a></li>
      <li><a href="../../datastore/hr/overview.html">Using the High Replication Datastore</a></li>
      <li><a href="../../datastore/metadataqueries.html">Metadata Queries</a></li>
      <li><a href="../../datastore/stats.html">Statistics</a></li>
      <li><a href="../../datastore/async.html">Async API</a></li>
      <li><span class="tlw-title tlw-expanded">Reference</span>
        <ul>
          <li><a href="../../datastore/typesandpropertyclasses.html">Types and Property Classes</a></li>
          <li><a href="../../datastore/gqlreference.html">GQL Reference</a></li>
          <li><a href="../../datastore/modelclass.html">Model</a></li>
          <li><a href="../../datastore/expandoclass.html">Expando</a></li>
          <li><a href="../../datastore/polymodelclass.html">PolyModel</a></li>
          <li><a href="../../datastore/propertyclass.html">Property</a></li>
          <li><a href="../../datastore/queryclass.html">Query</a></li>
          <li><a href="../../datastore/gqlqueryclass.html">GqlQuery</a></li>
          <li><a href="../../datastore/metadataqueryclass.html">Metadata Query</a></li>
          <li><a href="../../datastore/keyclass.html">Key</a></li>
          <li><a href="../../datastore/functions.html">Functions</a></li>
          <li><a href="../../datastore/exceptions.html">Exceptions</a></li>
        </ul>
      </li>

      </ul>
    </li>
    <li><a href="../../dataprocessing/index.html">Data Processing</a>
      <ul>
             <li><a href="../../dataprocessing/overview.html">Overview</a></li>
     <li><a href="../../dataprocessing/helloworld.html">Hello World</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../dataprocessing/mapreducepipelineclass.html">Mapreduce Pipline</a></li>
         <li><a href="../../dataprocessing/readers_writers.html">Standard Input Readers and Output Writers</a></li>
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="../../apis.html">Services</a>
      <ul>
        <li><a href="../../appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../../appidentity/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../appidentity/functions.html">Functions</a></li>
    <li><a href="../../appidentity/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../blobstore/blobinfoclass.html">BlobInfo</a></li>
    <li><a href="../../blobstore/blobkeyclass.html">BlobKey</a></li>
    <li><a href="../../blobstore/blobreaderclass.html">BlobReader</a></li>
    <li><a href="../../blobstore/functions.html">Functions</a></li>
    <li><a href="../../blobstore/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../capabilities/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../capabilities/capabilitysetclass.html">CapabilitySet</a></li>
    <li><a href="../../capabilities/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../../conversion/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../conversion/conversionclass.html">Conversion Class</a></li>
    <li><a href="../../conversion/propertyclasses.html">Property Classes</a></li>
    <li><a href="../../conversion/functions.html">Functions</a></li>
    <li><a href="../../conversion/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../channel/index.html">Channel</a>
          <ul>
            <li><a href="../../channel/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../channel/functions.html">Functions</a></li>
    <li><a href="../../channel/exceptions.html">Exceptions</a></li>
    <li><a href="../../channel/javascript.html">Client Javascript Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../images/index.html">Images</a>
          <ul>
                 <li><a href="../../images/overview.html">Overview</a></li>
     <li><a href="../../images/installingPIL.html">Installing PIL</a></li>
     <li><a href="../../images/usingimages.html">Using the Images API</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../images/imageclass.html">Image</a></li>
         <li><a href="../../images/functions.html">Functions</a></li>
         <li><a href="../../images/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../mail/index.html">Mail</a>
          <ul>
                 <li><a href="../../mail/overview.html">Overview</a></li>
     <li><a href="../../mail/sendingmail.html">Sending Mail</a></li>
     <li><a href="../../mail/receivingmail.html">Receiving Mail</a></li>
     <li><a href="../../mail/attachments.html">Attachments</a></li>
     <li><a href="../../mail/headers.html">Headers</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../mail/emailmessageclass.html">EmailMessage</a></li>
         <li><a href="../../mail/emailmessagefields.html">Message Fields</a></li>
         <li><a href="../../mail/functions.html">Functions</a></li>
         <li><a href="../../mail/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../../memcache/overview.html">Overview</a></li>
      <li><a href="../../memcache/usingmemcache.html">Using Memcache</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../memcache/clientclass.html">Client</a></li>
         <li><a href="../../memcache/functions.html">Functions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../../multitenancy/overview.html">Overview</a></li>
    <li><a href="../../multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../../multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li>Reference
      <ul>
        <li><a href="../../multitenancy/functions.html">Functions</a></li>
        <li><a href="../../multitenancy/exceptions.html">Exceptions</a></li>
      </ul>
    </li>

          </ul>
        </li>
        <li><a href="../../oauth/index.html">OAuth</a>
          <ul>
                 <li><a href="../../oauth/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../oauth/functions.html">Functions</a></li>
         <li><a href="../../oauth/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../../prospectivesearch/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../prospectivesearch/functions.html">Functions</a></li>
    <li><a href="../../prospectivesearch/exceptions.html">Exceptions</a></li>
  </ul>
</li> 

          </ul> 
        </li>
         <li><a href="../../googlestorage/index.html">Google Cloud Storage</a>
          <ul>
            <li><a href="../../googlestorage/overview.html">Overview</a></li>
<li><a href="../../googlestorage/functions.html">Functions</a></li>
<li><a href="../../googlestorage/exceptions.html">Exceptions</a></li>
    </li>


          </ul>
        </li>
        <li><a href="../../taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../taskqueue/overview.html">Overview</a></li>
     <li><a href="../../taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../../taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../taskqueue/tasks.html">Task Class</a></li>
         <li><a href="../../taskqueue/taskretryoptions.html">TaskRetryOptions Class</a></li>
         <li><a href="../../taskqueue/queues.html">Queue Class</a></li>
         <li><a href="../../taskqueue/rest.html">REST</a>  <span class="exp-feat">(Experimental)</span></li>
         <li><a href="../../taskqueue/functions.html">Functions</a></li>
         <li><a href="../../taskqueue/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../../urlfetch/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../urlfetch/fetchfunction.html">The fetch Function</a></li>
         <li><a href="../../urlfetch/asynchronousrequests.html">Asynchronous Requests</a></li>
         <li><a href="../../urlfetch/responseobjects.html">Response Objects</a></li>
         <li><a href="../../urlfetch/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../users/index.html">Users</a>
          <ul>
                 <li><a href="../../users/overview.html">Overview</a></li>
     <li><a href="../../users/userobjects.html">User Objects</a></li>
     <li><a href="../../users/loginurls.html">Login URLs</a></li>
     <li><a href="../../users/adminusers.html">Admin Users</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../users/userclass.html">User</a></li>
         <li><a href="../../users/functions.html">Functions</a></li>
         <li><a href="../../users/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../../xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../../xmpp/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../../xmpp/functions.html">Functions</a></li>
         <li><a href="../../xmpp/messageclass.html">Message</a></li>
         <li><a href="../../xmpp/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../../config/index.html">Configuration</a>
      <ul>
            <li><a href="../../config/appconfig.html">App Config</a></li>
    <li><a href="../../config/backends.html">Backends Config</a></li>
    <li><a href="../../config/indexconfig.html">Index Config</a></li>
    <li><a href="../../config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../config/queue.html">Task Queue Config</a></li>
    <li><a href="../../config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><span class="tlw-title"><a href="../index.html">Tools</a></span>
      <ul>
            <li><a href="../devserver.html">Development Server</a></li>
    <li><a href="../uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="../uploadingdata.html">Uploading and Downloading Data</a></li>
    <li><span class="tlw-title"><a href="index.html">ProtoRPC</a></span>
      <ul>
        <li><a href="overview.html">Overview</a></li>
<li><a href="definition-functions.html">Definition Module</a></li>
<li>Descriptor Module
  <ul>
        <li><a href="descriptor/descriptorlibrary.html">DescriptorLibrary Functions</a></li>
    <li><a href="descriptor/functions.html">Functions</a></li>

  </ul>
</li>
<li>Messages Module
  <ul>
        <li><a href="messages/enumclass.html">Enum</a></li>
    <li><a href="messages/enumfieldclass.html">EnumField</a></li>
    <li><a href="messages/fieldclass.html">Field</a></li>
    <li><a href="messages/fieldclasses.html">Message Field Classes</a></li>
    <li><a href="messages/messageclass.html">Message</a></li>
    <li><a href="messages/messagefieldclass.html">MessageField</a></li>
    <li><a href="messages/variantclass.html">Variant</a></li>
    <li><a href="messages/functions.html">Functions</a></li>
    <li><a href="messages/exceptions.html">Exceptions</a></li>
  </ul>
</li>
<li>Remote Service Library
  <ul>
        <li><a href="remote/index.html">Overview</a></li>
    <li><a href="remote/httprequeststateclass.html">HttpRequestState Class</a></li>
    <li><a href="remote/requeststateclass.html">RequestState Class</a></li>
    <li><a href="remote/rpcstatusclass.html">RpcStatus Class</a></li>
    <li><a href="remote/serviceclass.html">Service Class</a></li>
    <li><a href="remote/functions.html">Functions</a></li>
    <li><a href="remote/exceptions.html">Exceptions</a></li>

  </ul>
</li>
<li>Transport Library
  <ul>
        <li><a href="transport/httptransport.html">HttpTransport Class</a></li>
    <li><a href="transport/transport.html">Transport Class</a></li>

  </ul>
</li>
<li>WebApp Service Handlers
  <ul>
        <li><a href="webapp/index.html">Overview</a></li>
    <li><a href="webapp/functions.html">WebApp Service Handlers</a></li>

  </ul>
</li>

      </ul>
    </li>
    <li><a href="../webapp/index.html">webapp Framework</a>
      <ul>
             <li><a href="../webapp/overview.html">Overview</a></li>
     <li><a href="../webapp/running.html">Running the Application</a></li>
     <li><a href="../webapp/requesthandlers.html">Request Handlers</a></li>
     <li><a href="../webapp/requestdata.html">Request Data</a></li>
     <li><a href="../webapp/buildingtheresponse.html">Building the Response</a></li>
     <li><a href="../webapp/redirects.html">Redirects, Headers and Status Codes</a></li>
     <li><a href="../webapp/blobstorehandlers.html">Blobstore Handlers</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../webapp/requestclass.html">Request</a></li>
         <li><a href="../webapp/responseclass.html">Response</a></li>
         <li><a href="../webapp/requesthandlerclass.html">RequestHandler</a></li>
         <li><a href="../webapp/wsgiapplicationclass.html">WSGIApplication</a></li>
         <li><a href="../webapp/utilmodule.html">Utility Functions</a></li>
         
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="../localunittesting.html">Local Unit Testing</a></li>
    <li><a href="../appstats.html">Appstats</a></li>
    <li><a href="../libraries.html">Included Libraries </a>(Python 2.5)</li>
    <li><a href="../libraries27.html">Included Libraries</a>(Python 2.7)</li>
    <li><a href="../appengineconfig.html">Python Module Configuration</a></li>

      </ul>
    </li>
    <li><a href="../../howto/index.html">How-To</a>
      <ul>
              <li><a href="../../howto/usinggdataservices.html">Google Data Services</a></li>
      <li><a href="../../howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Go</h2> <span class="exp-feat">Experimental!</span>
    <ul>
          <li><a href="../../../go/overview.html">Overview</a></li>
    <li><a href="../../../go/runtime.html">Runtime Environment</a>
      <ul>
        <li><a href="../../../go/reference.html">Reference</a></li>
      </ul>
    </li>
    <li><a href="../../../go/backends/index.html">Backends</a>
      <ul>
        <li><a href="../../../go/backends/overview.html">Overview</a></li>
<li><a href="../../../go/backends/runtime.html">Runtime package</a></li>

      </ul>
    </li>
    <li><a href="../../../go/datastore/index.html">Storing Data</a>
      <ul>
             <li><a href="../../../go/datastore/overview.html">Overview</a></li>
     <li><a href="../../../go/datastore/transactions.html">Transactions</a></li>
     <li><a href="../../../go/datastore/reference.html">Reference</a></li>

      </ul>
    </li>
    <li><a href="../../../go/apis.html">Services</a>
      <ul>
        <li><a href="../../../go/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../../go/blobstore/overview.html">Overview</a></li>
<li><a href="../../../go/blobstore/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../../go/capabilities/overview.html">Overview</a></li>
<li><a href="../../../go/capabilities/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/channel/index.html">Channel</a>
          <ul>
            <li><a href="../../../go/channel/overview.html">Overview</a></li>
<li><a href="../../../go/channel/reference.html">Reference</a></li>
<li><a href="../../../go/channel/javascript.html">Client Javascript Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/mail/index.html">Mail</a>
          <ul>
                 <li><a href="../../../go/mail/overview.html">Overview</a></li>
     <li><a href="../../../go/mail/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../../../go/memcache/overview.html">Overview</a></li>
     <li><a href="../../../go/memcache/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../../go/taskqueue/overview.html">Overview</a></li>
     <li><a href="../../../go/taskqueue/reference.html">Reference</a></li>
     <li><a href="../../../go/taskqueue/delay.html">Delay package</a></li>

          </ul>
        </li>
        <li><a href="../../../go/urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../../../go/urlfetch/overview.html">Overview</a></li>
     <li><a href="../../../go/urlfetch/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../../go/users/index.html">Users</a>
          <ul>
                 <li><a href="../../../go/users/overview.html">Overview</a></li>
     <li><a href="../../../go/users/reference.html">Reference</a></li>

          </ul>
        </li>
      </ul>
        <li><a href="../../../go/config/index.html">Configuration</a>
          <ul>
                <li><a href="../../../go/config/appconfig.html">App Config</a></li>
    <li><a href="../../../go/config/backends.html">Backends Config</a></li>
    <li><a href="../../../go/config/indexconfig.html">Index Config</a></li>
    <li><a href="../../../go/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../../go/config/queue.html">Task Queue Config</a></li>
    <li><a href="../../../go/config/dos.html">DoS Protection Config</a></li>

          </ul>
        </li>
        <li><a href="../../../go/tools/index.html">Tools</a>
          <ul>
                <li><a href="../../../go/tools/devserver.html">Development Server</a></li>
    <li><a href="../../../go/tools/uploadinganapp.html">Uploading and Managing an App</a></li>

          </ul>
        </li>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Managing Your App</h2>
    <ul>
      <li><a href="../../../adminconsole/index.html">Admin Console</a>
        <ul>
          <li><a href="../../../adminconsole/instances.html">Instances</a></li>
<li><a href="../../../adminconsole/roles.html">Roles</a></li>
<li><a href="../../../adminconsole/applicationsettings.html">Application Settings</a></li>
<li><a href="../../../adminconsole/datastoreadmin.html">Datastore</a></li>
<li><a href="../../../adminconsole/performancesettings.html">Performance Settings</a></li>

        </ul>
      </li>
      <li><a href="../../../quotas.html">Quotas</a></li>
      <li><a href="../../../billing.html">Billing</a></li>
      <li><a href="../../../premier/index.html">Premier Accounts</a></li>
      <li><a href="../../../domain.html">Using a Custom Domain</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Resources</h2>
    <ul>
      <li><a href="../../../../kb/index.html">FAQ</a></li>
      <li><a href="../../../../articles/index.html">Articles</a></li>
      <li><a href="../../../videoresources.html">Video Resources</a><sup class="new">New!</sup></li>
      <li><a href="http://code.google.com/p/googleappengine/">SDK Code</a></li>
      <li><a href="http://code.google.com/p/datanucleus-appengine/">JDO/JPA Code</a></li>
      <li><a href="http://code.google.com/p/google-app-engine-samples/">Sample Apps Code</a></li>
      <li>Launcher Code
        <ul>
          <li><a href="http://code.google.com/p/google-appengine-mac-launcher/">Mac</a></li>
          <li><a href="http://code.google.com/p/google-appengine-wx-launcher/">Windows/wx</a></li>
        </ul>
      </li>
      <li><a href="../../../../community.html">Discussion Groups</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><a href="../../../roadmap.html">Product Roadmap</a></li>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkReleaseNotes">Release Notes: Python</a></li>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkForJavaReleaseNotes">Release Notes: Java</a></li>
  <li><a href="../../../revision_history.html">Revision History</a></li>
</ul>

        <a class="hidden" href="#gc-topnav-anchor">More Google App Engine resource links</a>
      </div>

      <div class="g-unit" id="gc-pagecontent">
        <h1 class="page_title">ProtoRPC Python API Overview</h1>




<div class="special">
<h4>Experimental!</h4>
<p>ProtoRPC is an experimental, innovative, and rapidly changing new feature for App Engine. Unfortunately, being on the bleeding edge means that we may make backwards-incompatible changes to ProtoRPC. We will inform the community once ProtoRPC is no longer experimental.</p>
</div>


<p>ProtoRPC is a simple way to send and receive HTTP-based remote procedure call (RPC) services. An RPC service is a collection of message types and remote methods that provide a structured way for external applications to interact with web applications. Because you can define messages and services using only the Python programming language, it's easy to get started developing your own services, testing those services, and scaling them on App Engine.</p>

<p>While you can use ProtoRPC for any kind of HTTP-based RPC service, some common use cases include:</p>

<ul>
  <li>Publishing web APIs for use by third parties</li>
  <li>Creating structured Ajax backends</li>
  <li>Cloning to long-running server communication</li>
</ul>

<p>You can define a ProtoRPC service in a single Python class that contains any number of declared remote methods. Each remote method accepts a specific set of parameters as a request and returns a specific response. These request and response parameters are user-defined classes known as messages.</p>

<ul>
  <li><a href="#The_Hello_World_of_ProtoRPC">The Hello World of ProtoRPC</a></li>
  <li><a href="#Getting_Started_with_ProtoRPC">Getting Started with ProtoRPC</a></li>
  <ul>
    <li><a href="#Creating_the_PostService_Module">Creating the PostService Module</a></li>
    <li><a href="#Working_with_Messages">Working with Messages</a></li>
    <li><a href="#Defining_a_Service">Defining a Service</a></li>
    <li><a href="#Registering_the_Service">Registering the Service</a></li>
    <li><a href="#Testing_the_Service_from_the_Command_Line">Testing the Service from the Command Line</a></li>
    <li><a href="#Adding_Message_Fields"> Message Fields</a></li>
    <li><a href="#Defining_the_Response_Message">Defining the Response Message</a></li>
  </ul>

</ul>


<h2 id="The_Hello_World_of_ProtoRPC">The Hello World of ProtoRPC</h2>

<p>This section presents an example of a very simple service definition that receives a message from a remote client. The message contains a user's name (<code>HelloRequest.my_name</code>) and sends back a greeting for that person (<code>HelloResponse.hello</code>):</p>

<pre class="prettyprint">from google.appengine.ext import webapp
from google.appengine.ext.webapp import util

from protorpc import messages
from protorpc.webapp import service_handlers
from protorpc import remote

package = 'hello'

# Create the request string containing the user's name
class HelloRequest(messages.Message):
  my_name = messages.StringField(1, required=True)

# Create the response string
class HelloResponse(messages.Message):
  hello = messages.StringField(1, required=True)

# Create the RPC service to exchange messages
class HelloService(remote.Service):

  @remote.method(HelloRequest, HelloResponse)
  def hello(self, request):
    return HelloResponse(hello='Hello there, %s!' %
                         request.my_name)

# Map the RPC service and path (/hello)
service_mappings = service_handlers.service_mapping(
    [('/hello', HelloService),
    ])

# Apply the service mappings to Webapp
application = webapp.WSGIApplication(service_mappings)

def main():
  util.run_wsgi_app(application)

if __name__ == '__main__':
  main()</pre>


<h2 id="Getting_Started_with_ProtoRPC">Getting Started with ProtoRPC</h2>

<p>This section demonstrates how to get started with ProtoRPC using the guestbook application developed in the <a href="../../gettingstarted/index.html">App Engine Getting Started Guide (Python)</a>. Users can visit the guestbook (also included as a demo in the Python SDK) online, write entries, and view entries from all users. Users interact with the interface directly, but there is no way for web applications to to easily access that information.</p>

<p>That's where ProtoRPC comes in. In this tutorial, we'll apply ProtoRPC to this basic guestbook, enabling other web applications to access the guestbook's data. This tutorial only covers using ProtoRPC to extend the guestbook functionality; it's up to you what to do next. For example, you might want to write a tool that reads the messages posted by users and makes a time-series graph of posts per day. How you use ProtoRPC depends on your specific app; the important point is that ProtoRPC greatly expands what you can do with your application's data.</p>

<p>To begin, you'll create a file, <code>postservice.py</code>, which implements remote methods to access data in the guestbook application's datastore.</p>

<h3 id="Creating_the_PostService_Module">Creating the PostService Module</h3>

<p>The first step to get started with ProtoRPC is to create a file called <code>postservice.py</code> in your application directory. You'll use this file to define the new service, which implements two methods&mdash;one that remotely posts data and another that remotely gets data.</p>

<p>You don't need to add anything to this file now&mdash;but this is the file where you'll put all the code defined in the subsequent sections. In the next section, you'll create a message that represents a note posted to the guestbook application's datastore.</p>

<h3 id="Working_with_Messages">Working with Messages</h3>

<p>Messages are the fundamental data type used in ProtoRPC. You define messages by declaring a class that inherits from the <a href="messages/messageclass.html">Message</a> base class. Then you specify class attributes that correspond to each of the message's fields.</p>

<p>For example, the guestbook service allows users to post a note. Let's define a message that represents such a note:</p>

<pre class="prettyprint">from protorpc import messages

class Note(messages.Message):

  text = messages.StringField(1, required=True)
  when = messages.IntegerField(2)</pre>

<p>The note message is defined by two fields, <code>text</code> and <code>when</code>. Each field has a specific type. The text field is a unicode string representing the content of a user's post to the guestbook page. The <code>when</code> field is an integer representing the post's timestamp. In defining the string, we also:</p>
<ul>
  <li>Give each field a unique numerical value (<code>1</code> for <code>text</code> and <code>2</code> for <code>when</code>) that the underlying network protocol uses to identify the field.</li>
  <li>Make <code>text</code> a required field. Fields are optional by default, you can mark them as required by setting <code>required=True</code>. Messages must be initialized by setting required fields to a value. ProtoRPC service methods accept only properly initialized messages.</li>
</ul>

<p>You can set values for the fields using the constructor of the Note class:</p>

<pre class="prettyprint">
# Import the standard <b>time</b> Python library to handle the timestamp.
import time

note_instance = Note(text=u'Hello guestbook!', when=int(time.time()))</pre>

<p>You can also read and set values on a message like normal Python attribute values. For example, to change the message:</p>

<pre class="prettyprint">print note_instance.text
note_instance.text = u'Good-bye guestbook!'
print note_instance.text

# Which outputs the following

&gt;&gt;&gt;
Hello guestbook!
Good-bye guestbook!</pre>

<h3 id="Defining_a_Service">Defining a Service</h3>

<p>A <i>service</i> is a class definition that inherits from the <a href="remote/serviceclass.html">Service</a> base-class. Remote methods of a service are indicated by using the <code>remote</code> decorator. Every method of a service accepts a single message as its parameter and returns a single message as its response.</p>

<p>Let's define the first method of the PostService. If you haven't done so already, create a file called <code>postservice.py</code> in your application directory and review the <a href="http://code.google.com/appengine/docs/python/gettingstarted/">guestbook tutorial</a> if you need to. In that tutorial, guestbook greetings are put in the datastore using the <a href="http://code.google.com/appengine/docs/python/gettingstarted/usingdatastore.html">guestbook.Greeting</a> class. The PostService will also use the Greeting class to store a post in the datastore. Add the following to your newly created <code>postservice.py</code> file:</p>

<pre class="prettyprint">import datetime

from protorpc import message_types
from protorpc import remote

import guestbook

class PostService(remote.Service):

  # Add the remote decorator to indicate the service methods
  @remote.method(Note, message_types.VoidMessage)
  def post_note(self, request):

    # If the Note instance has a timestamp, use that timestamp
    if request.when is not None:
      when = datetime.datetime.utcfromtimestamp(request.when)

    # Else use the current time
    else:
      when = datetime.datetime.now()
    note = guestbook.Greeting(content=request.text, date=when)
    note.put()
    return message_types.VoidMessage()</pre>

<p>The <code>remote</code> decorator takes two parameters:</p>
<ul>
  <li>The expected request type. The post_note() method accepts a Note instance as its request type.</li>
  <li>The expected response type. ProtoRPC comes with a built-in type called a VoidMessage (in the <code>protorpc.message_types</code> module), which is defined as a message with no fields. This means that the post_note() message does not return anything useful to its caller. If it returns without error, the message is considered to have been posted.</li>
</ul>

<p>Since <code>Note.when</code> is an optional field, it may not have been set by the caller. When this happens, the value of <code>when</code> is set to None. When <code>Note.when</code> is set to None, post_note() creates the timestamp using the time it received the message.</p>

<p>The response message is instantiated by the remote method and becomes the remote method's return value.</p>

<h3 id="Registering_the_Service">Registering the Service</h3>

<p>You can publish your new service using the <a href="../webapp/index.html">App Engine webapp framework</a>. ProtoRPC has a small library (<code>protorpc.webapp.service_handlers</code>) making that easy. Create a new file called <code>services.py</code> in your application directory and add the following code to create your webapp-based service:</p>

<pre class="prettyprint">from google.appengine.ext import webapp
from google.appengine.ext.webapp import util

from protorpc.webapp import service_handlers

import PostService

# Register mapping with application.
application = webapp.WSGIApplication(
  service_handlers.service_mapping(
    [('/PostService', PostService.PostService)]),
  debug=True)

def main():
  util.run_wsgi_app(application)

if __name__ == '__main__':
  main()</pre>

<p>Now, add the following handler to your <code>app.yaml</code> file:</p>

<pre class="prettyprint">
- url: /PostService.*
  script: services.py</pre>

<h3 id="Testing_the_Service_from_the_Command_Line">Testing the Service from the Command Line</h3>

<p>Now that you've created the service, you can test it using <code>curl</code> or a similar command-line tool.</p>

<pre class="prettyprint"># After starting the development web server:
% curl -H \
   'content-type:application/json' \
   -d '{"text": "Hello guestbook!"}'\
   http://localhost:8080/PostService.post_note</pre>

<p>An empty JSON response indicates that the note posted successfully. You can see the note by going to your guestbook application in your browser (http://localhost:8080/).</p>

<h3 id="Adding_Message_Fields">Adding Message Fields</h3>

<p>Now that we can post messages to the PostService, let's add a new method to get messages from the PostService. First, we'll define a request message in <code>postservice.py</code> that defines some defaults and a new enum field that tells the server how to order notes in the response. Define it <i>above</i> the <code>PostService</code> class that you defined earlier:</p>

<pre class="prettyprint">
class GetNotesRequest(messages.Message):
    limit = messages.IntegerField(1, default=10)
    on_or_before = messages.IntegerField(2)
  
    class Order(messages.Enum):
        WHEN = 1
        TEXT = 2
    order = messages.EnumField(Order, 3, default=Order.WHEN)</pre>

<p>When sent to the PostService, this message requests a number of notes on or before a certain date and in a particular order. The <code>limit</code> field indicates the maximum number of notes to fetch. If not explicitly set, <code>limit</code> defaults to 10 notes (as indicated by the <code>default=10</code> keyword argument).</p>

<p>The order field introduces the <a href="messages/enumfieldclass.html">EnumField</a> class, which enables the <code>enum</code> field type when the value of a field is restricted to a limited number of known symbolic values. In this case, the <code>enum</code> indicates to the server how to order notes in the response. To define the enum values, create a sub-class of the <a href="messages/enumclass.html">Enum</a> class. Each name must be assigned a unique number for the type. Each number is converted to an instance of the enum type and can be accessed from the class.</p>

<pre class="prettyprint">
print 'Enum value Order.%s has number %d' % (GetNotesRequest.Order.WHEN.name,
                                             GetNotesRequest.Order.WHEN.number)</pre>

<p>Each <code>enum</code> value has a special characteristic that makes it easy to convert to their name or their number. Instead of accessing the name and number attribute, just convert each value to a string or an integer:</p>

<pre class="prettyprint">
print 'Enum value Order.%s has number %d' % (GetNotesRequest.Order.WHEN,
                                             GetNotesRequest.Order.WHEN)</pre>

<p>Enum fields are declared similarly to other fields except they must have the enum type as its first parameter before the field number. Enum fields can also have default values.</p>


<h3 id="Defining_the_Response_Message">Defining the Response Message</h3>
<p>Now let's define the get_notes() response message. The response needs to be a collection of Note messages. Messages can contain other messages. In the case of the <code>Notes.notes</code> field defined above, we indicate that it is a collection of messages by providing the Note class as the first parameter before the field number:</p>

<pre class="prettyprint">class Notes(messages.Message):
  notes = messages.MessageField(Note, 1, repeated=True)</pre>

<p>The <code>Notes.notes</code> field is also a repeated field as indicated by the <code>repeated=True</code> keyword argument. Values of repeated fields must be lists of the field type of their declaration. In this case, <code>Notes.notes</code> must a list of Note instances. Lists are automatically created and cannot be assigned to None.</p>

<p>For example, here is how to create a Notes object:</p>

<pre class="prettyprint">
response = Notes(notes=[Note(text='This is note 1'),
                        Note(text='This is note 2')])
print 'The first note is:', response.notes[0].text
print 'The second note is:', response.notes[1].text</pre>


<h3 id="Implement_get_notes">Implement get_notes</h3>
<p>Now we can add the get_notes() method to the PostService class:</p>

<pre class="prettyprint">
import datetime
import time
from protorpc import remote

class PostService(remote.Service):
    @remote.method(GetNotesRequest, Notes)
    def get_notes(self, request):
        query = guestbook.Greeting.all().order('-date')
  
        if request.on_or_before:
            when = datetime.datetime.utcfromtimestamp(
                request.on_or_before)
            query.filter('date &lt;=', when)
  
        notes = []
        for note_model in query.fetch(request.limit):
            if note_model.date:
                when = int(time.mktime(note_model.date.utctimetuple()))
            else:
                when = None
            note = Note(text=note_model.content, when=when)
            notes.append(note)
     
        if request.order == GetNotesRequest.Order.TEXT:
            notes.sort(key=lambda note: note.text)
     
        return Notes(notes=notes)</pre>



      </div><!-- end gc-pagecontent -->
   </div><!-- end gooey wrapper -->

    </div> <!-- end codesite content -->


<div id="gc-footer" dir="ltr">
  <div class="text">
    
      <div class="notice"><div id="notice" style="text-align: center; border: 1em 0em 1em 0em">
  Except as otherwise <a
  href="http://code.google.com/policies.html#restrictions">noted</a>,
  the content of this page is licensed under the <a rel="license"
  href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
  Attribution 3.0 License</a>, and code samples are licensed under the
  <a rel="license" href="http://www.apache.org/licenses/LICENSE-2.0">Apache
  2.0 License</a>.
<!-- <rdf:RDF xmlns="http://web.resource.org/cc/" 
              xmlns:dc="http://purl.org/dc/elements/1.1/"
              xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <Work rdf:about="">
    <license rdf:resource="http://creativecommons.org/licenses/by/3.0/" />
  </Work>
  <License rdf:about="http://creativecommons.org/licenses/by/3.0/">
    <permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
    <permits rdf:resource="http://web.resource.org/cc/Distribution"/>
    <requires rdf:resource="http://web.resource.org/cc/Notice"/>
    <requires rdf:resource="http://web.resource.org/cc/Attribution"/>
    <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/>
  </License>
</rdf:RDF> -->
</div>
Java is a registered trademark of Oracle Corporation and/or its affiliates</div>
    
    2011 Google -
    <a href="http://code.google.com">Code Home</a> -
    <a href="http://code.google.com/terms.html">Site Terms of Service</a> -
    <a href="http://code.google.com/privacy.html">Privacy Policy</a> -
    <a href="http://code.google.com/more">Site Directory</a>
    <br> <br>
    Google Code offered in:
    <a href="http://code.google.com/intl/en">English</a> -
    <a href="http://code.google.com/intl/es">Espaol</a> -
    <a href="http://code.google.com/intl/ja"></a> -
    <a href="http://code.google.com/intl/ko"></a> -
    <a href="http://code.google.com/intl/pt-BR">Portugus</a> -
    <a href="http://code.google.com/intl/ru">P</a> -
    <a href="http://code.google.com/intl/zh-CN">()</a> -
    <a href="http://code.google.com/intl/zh-TW">()</a>
  </div>
</div><!-- end gc-footer -->

</div><!-- end gc-container -->

<script type="text/javascript">CODESITE_CSITimer['load'].tick('ats');</script>
<script src="../../../../../js/codesite_tail.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>





  </body>
</html>


