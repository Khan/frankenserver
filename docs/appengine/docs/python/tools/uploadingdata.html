<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">


















 
 
 
 
 
  
  


<html>
  <head>
    <script type="text/javascript" language="JavaScript">
    ORIGINAL_PAGE_PATH = "/appengine/docs/python/tools/uploadingdata.html";
    </script>
    
    
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<title>Uploading and Downloading Data - Google App Engine - Google Code</title>
<script type="text/javascript"><!--
(function(){function a(){this.t={};this.tick=function(c){this.t[c]=(new Date).getTime()};this.tick("start")}var b=new a;window.jstiming={Timer:a,load:b};if(window.external&&window.external.pageT)window.jstiming.pt=window.external.pageT;})();

var _tocPath_ = '/appengine/docs/_toc.ezt';
var codesite_token = null;
var logged_in_user_email = null;
//--></script>
<link href="../../../../css/codesite.pack.04102009.css" type="text/css" rel="stylesheet">
<script src="../../../../js/codesite_head.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript">CODESITE_CSITimer['load'].tick('bhs');</script>
<link rel="search" type="application/opensearchdescription+xml" title="Google Code" href="http://code.google.com/osd.xml">

<!--[if IE]><link rel="stylesheet" type="text/css" href="../../../../css/iehacks.css"><![endif]-->

    <link href="../../../../css/semantic_headers.css" rel="stylesheet" type="text/css" />
    <link href="../../../css/local_extensions.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="gc-documentation">

    
    
    <script type="text/javascript">
var _gaq = _gaq || [];

var cookiePath = '/appengine/';
if (cookiePath.lastIndexOf('.html') > cookiePath.lastIndexOf('/')) {
  cookiePath = cookiePath.substring(0, cookiePath.lastIndexOf('/') + 1);
};

_gaq.push(


    ['siteTracker._setAccount', 'UA-18071-1'],
    ['siteTracker._setDomainName', 'code.google.com'],
    ['siteTracker._trackPageview']
);
(function() {
  var ga = document.createElement('script');
  ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] ||
   document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
</script>


<div id="gb">
 <span>
  
    <a id="lang-dropdown" href="http://code.google.com" onclick="return false;"><span style="text-decoration:underline">English</span> <span style="font-size:.75em;">&#9660;</span></a>
  
 </span>
</div>

<div class="gbh" style="left:0px;"></div>
<div class="gbh" style="right:0px;"></div>


<div id="gc-container">
<a id="top"></a>
<div id="skipto">
  <a href="#gc-pagecontent">Skip to page content</a>
  <a href="#gc-toc">Skip to main navigation</a>
</div>

<div id="gc-header">
  <div id="logo"><a href="http://code.google.com">
  
     <img src="../../../../images/code_logo.gif" height="40" width="167" alt="Google Code" style="border:0;margin:3px 0 0 0;">
  
  </a></div>
  <div id="search">
    <div id="searchForm">
      <form id="cse" action="http://www.google.com/cse" accept-charset="utf-8" onsubmit="executeGSearch(document.getElementById('gsearchInput').value); return false;">
      <noscript>
      <input type="hidden" name="cref" value="http://code.google.com/cse/googlecode-context.xml">
      </noscript>
      <div id="gsc-search-box">
        <input id="gsearchInput" type="text" name="q" maxlength="2048" class="gsc-input" autocomplete="off" title="Google Code Search" style="width:345px">
        <div id="cs-searchresults" onclick="event.cancelBubble = true;"></div>
        <input title="Search" id="gsearchButton" class="gsc-search-button" name="sa" value="Search" type="submit">
        <div class="greytext">e.g. "templates" or "datastore"</div>
      </div>
      </form>
    </div> <!-- end searchForm -->
  </div> <!-- end search -->




</div> <!-- end gc-header -->


<div id="codesiteContent">

<a id="gc-topnav-anchor"></a>
<div id="gc-topnav">
  <h1 style="padding:0 0 0 6px;">Google App Engine</h1>
  <ul id="docs" class="gc-topnav-tabs">

    <li id="home_link">
      <a href="../../../index.html" title="Google App Engine home page">Home</a>
    </li>
  
    <li id="docs_link">
      <a href="../../index.html" class="selected" title="Official Google App Engine documentation">Docs</a>
    </li>
  
    <li id="faq_link">
      <a href="../../../kb/index.html" title="Answers to frequently asked questions about Google App Engine">FAQ</a>
    </li>
  
    <li id="articles_link">
      <a href="../../../articles/index.html" title="Focused articles and tutorials for Google App Engine developers">Articles</a>
    </li>
  
    <li>
      <a href="http://googleappengine.blogspot.com/" title="Official Google App Engine blog">Blog</a>
    </li>
  
    <li>
      <a href="../../../community.html" title="Community home for Google App Engine">Community</a>
    </li>
  
    <li>
      <a href="../../../terms.html" title="Google App Engine terms of service">Terms</a>
    </li>
  
    <li>
      <a href="../../../downloads.html" title="Download Google App Engine">Download</a>
    </li>
  

  
  
  
  
  <li><g:plusone size="small" count="false" source="google:googlecode"></g:plusone>&nbsp;</li>
</ul>
</div> <!-- end gc-topnav -->


    <div class="g-section g-tpl-170">

      <div class="g-unit g-first" id="gc-toc">
        <ul>
  <li><a href="../../../downloads.html">Downloads</a></li>
  <li><a href="../../../tools_tips.html">Tools and Tips</a></li>
  <li><a href="../../glossary.html">Glossary</a><sup class="new">New!</sup></li>
  <li><a href="https://appengine.google.com/">Admin Console</a></li>
  <li><a href="http://code.google.com/status/appengine">System Status</a></li>
  <li><a href="http://code.google.com/p/googleappengine/issues/list">Issue Tracker</a></li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Getting Started</h2>
    <ul>
      <li><a href="../../whatisgoogleappengine.html">What Is Google App Engine?</a></li>
      <li><a href="../../java/gettingstarted/index.html">Java</a>
        <ul>
              <li><a href="../../java/gettingstarted/introduction.html">Introduction</a></li>
    <li><a href="../../java/gettingstarted/installing.html">Installing the Java SDK</a></li>
    <li><a href="../../java/gettingstarted/creating.html">Creating a Project</a></li>
    <li><a href="../../java/gettingstarted/usingusers.html">Using the Users Service</a></li>
    <li><a href="../../java/gettingstarted/usingjsps.html">Using JSPs</a></li>
    <li><a href="../../java/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
    <li><a href="../../java/gettingstarted/staticfiles.html">Using Static Files</a></li>
    <li><a href="../../java/gettingstarted/uploading.html">Uploading Your Application</a></li>
    <li><a href="http://googcloudlabs.appspot.com">Codelabs for Getting Started in Java</a></li>

        </ul>
      </li>
      <li><a href="../gettingstarted/index.html">Python 2.5</a>
        <ul>
            <li><a href="../gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../gettingstarted/usingwebapp.html">Using the webapp Framework</a></li>
  <li><a href="../gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../gettingstarted/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../gettingstarted/templates.html">Using Templates</a></li>
  <li><a href="../gettingstarted/staticfiles.html">Using Static Files</a></li>
  <li><a href="../gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../gettingstartedpython27/index.html">Python 2.7</a>
        <ul>
            <li><a href="../gettingstartedpython27/introduction.html">Introduction</a></li>
  <li><a href="../gettingstartedpython27/devenvironment.html">The Development Environment</a></li>
  <li><a href="../gettingstartedpython27/helloworld.html">Hello, World!</a></li>
  <li><a href="../gettingstartedpython27/usingwebapp.html">Explaining the webapp2 Framework</a></li>
  <li><a href="../gettingstartedpython27/usingusers.html">Using the Users Service</a></li>
  <li><a href="../gettingstartedpython27/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../gettingstartedpython27/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../gettingstartedpython27/templates.html">Using Templates</a></li>
  <li><a href="../gettingstartedpython27/staticfiles.html">Using Static Files</a></li>
  <li><a href="../gettingstartedpython27/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../../go/gettingstarted/index.html">Go</a>
        <ul>
          <li><span class="exp-feat">Experimental!</span></li>
            <li><a href="../../go/gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../../go/gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../../go/gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../../go/gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../../go/gettingstarted/handlingforms.html">Handling Forms</a></li>
  <li><a href="../../go/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../../go/gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Java</h2>
    <ul>
          <li><a href="../../java/overview.html">Overview</a></li>
    <li><a href="../../java/runtime.html">Servlet Environment</a></li>
    <li><a href="../../java/backends/index.html">Backends</a>
      <ul>
        <li><a href="../../java/backends/overview.html">Overview</a></li>
<li><a href="../../java/javadoc/com/google/appengine/api/backends/package-summary.html">Javadoc Reference</a></li>


      </ul>
    </li>
    <li><a href="../../java/datastore/index.html">Storing Data</a>
      <ul>
            <li><a href="../../java/datastore/overview.html">Overview</a></li>
    <li><a href="../../java/datastore/entities.html">Entities</a></li>
    <li><a href="../../java/datastore/queries.html">Queries</a></li>
    <li><a href="../../java/datastore/transactions.html">Transactions</a></li>
    <li><a href="../../java/datastore/hr/index.html">Choosing a Datastore</a></li>
    <li><a href="../../java/datastore/hr/overview.html">Using the High Replication Datastore</a></li>
    <li><a href="../../java/datastore/metadataqueries.html">Metadata Queries</a></li>
    <li><a href="../../java/datastore/stats.html">Statistics</a></li>
    <li><a href="../../java/datastore/async.html">Async API</a></li>
    <li><a href="../../java/datastore/callbacks.html">Callbacks</a></li>
    <li><a href="../../java/datastore/jdo/index.html">JDO</a>
      <ul>
            <li><a href="../../java/datastore/jdo/overview.html">Overview</a></li>
    <li><a href="../../java/datastore/jdo/dataclasses.html">Defining Data Classes with JDO</a></li>
    <li><a href="../../java/datastore/jdo/creatinggettinganddeletingdata.html">Creating, Getting, and Deleting Data in JDO</a></li>
    <li><a href="../../java/datastore/jdo/relationships.html">Entity Relationships in JDO</a></li>
    <li><a href="../../java/datastore/jdo/queries.html">Queries in JDO</a></li>

      </ul>
    </li>
    <li><a href="../../java/datastore/jpa/index.html">JPA</a>
      <ul>
            <li><a href="../../java/datastore/jpa/overview.html">Overview</a></li>

      </ul>
    </li>
    <li><a href="../../java/javadoc/com/google/appengine/api/datastore/package-summary.html">Javadoc Reference</a></li>

      </ul>
    </li>
    <li><a href="../../java/apis.html">Services</a>
      <ul>
        <li><a href="../../java/appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../../java/appidentity/overview.html">Overview</a></li>

<li><a href="../../java/javadoc/com/google/appengine/api/appidentity/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../java/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../java/blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../../java/javadoc/com/google/appengine/api/blobstore/package-summary.html">API Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../../java/googlestorage/index.html">Google Cloud Storage</a>
          <ul>
            <li><a href="../../java/googlestorage/overview.html">Overview</a></li>
<li><a href="../../java/javadoc/com/google/appengine/api/files/package-summary.html">API Reference</a></li>
    </li>


          </ul>
        </li>
        <li><a href="../../java/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../java/capabilities/overview.html">Overview</a></li>
<li><a href="../../java/javadoc/com/google/appengine/api/capabilities/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../../java/conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../../java/conversion/overview.html">Overview</a></li>
<li><a href="../../java/javadoc/com/google/appengine/api/conversion/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../../java/channel/index.html">Channel</a>
          <ul>
            <li><a href="../../java/channel/overview.html">Overview</a></li>
<li><a href="../../java/javadoc/com/google/appengine/api/channel/package-summary.html">Javadoc Reference</a></li>
<li><a href="../../java/channel/javascript.html">JavaScript Reference</a></li>

          </ul>
        </li>
        <li><a href="../../java/images/index.html">Images</a>
          <ul>
                <li><a href="../../java/images/overview.html">Overview</a></li>
    <li><a href="../../java/javadoc/com/google/appengine/api/images/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../java/mail/index.html">Mail</a>
          <ul>
                <li><a href="../../java/mail/overview.html">Overview</a></li>
    <li><a href="../../java/mail/usingjavamail.html">Using JavaMail to Send Mail</a></li>
    <li><a href="../../java/mail/receiving.html">Receiving Mail</a></li>
    <li><a href="../../java/javadoc/com/google/appengine/api/mail/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../java/memcache/index.html">Memcache</a>
          <ul>
                <li><a href="../../java/memcache/overview.html">Overview</a></li>
    <li><a href="../../java/memcache/usingjcache.html">Using JCache</a></li>
    <li><a href="../../java/javadoc/com/google/appengine/api/memcache/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../java/multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../../java/multitenancy/overview.html">Overview</a></li>
    <li><a href="../../java/multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../../java/multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li><a href="../../java/javadoc/com/google/appengine/api/NamespaceManager.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../java/oauth/index.html">OAuth</a>
          <ul>
                <li><a href="../../java/oauth/overview.html">Overview</a></li>
    <li><a href="../../java/javadoc/com/google/appengine/api/oauth/package-summary.html">API Reference</a></li>


          </ul>
        </li>
        <li><a href="../../java/prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../../java/prospectivesearch/overview.html">Overview</a></li>
<li><a href="../../java/javadoc/com/google/appengine/api/prospectivesearch/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        </li>
        <li><a href="../../java/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../java/taskqueue/overview.html">Overview</a></li>
     <li><a href="../../java/taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../../java/taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><a href="../../java/javadoc/com/google/appengine/api/taskqueue/package-summary.html">Javadoc Reference</a></li>
     <li><a href="../../java/taskqueue/rest.html">REST reference</a> <span class="exp-feat">(Experimental)</span></li>
          </ul>
        </li>
        <li><a href="../../java/urlfetch/index.html">URL Fetch</a>
          <ul>
                <li><a href="../../java/urlfetch/overview.html">Overview</a></li>
    <li><a href="../../java/urlfetch/usingjavanet.html">Using java.net</a></li>
    <li><a href="../../java/javadoc/com/google/appengine/api/urlfetch/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../../java/users/index.html">Users</a>
          <ul>
                <li><a href="../../java/users/overview.html">Overview</a></li>
    <li><a href="../../java/javadoc/com/google/appengine/api/users/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../../java/xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../../java/xmpp/overview.html">Overview</a></li>
     <li><a href="../../java/javadoc/com/google/appengine/api/xmpp/package-summary.html">API Reference</a></li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../../java/javadoc/index.html">Services Javadoc</a></li>
    <li><a href="../../java/jrewhitelist.html">JRE Class White List</a></li>
    <li><a href="../../java/config/index.html">Configuration</a>
      <ul>
            <li><a href="../../java/config/webxml.html">Deployment Descriptor</a></li>
    <li><a href="../../java/config/appconfig.html">App Config</a></li>
    <li><a href="../../java/config/backends.html">Backends Config</a></li>
    <li><a href="../../java/config/indexconfig.html">Index Config</a></li>
    <li><a href="../../java/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../java/config/queue.html">Task Queue Config</a></li>
    <li><a href="../../java/config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../../java/configyaml/index.html">YAML Configuration</a>
      <ul>
                <li><a href="../../java/configyaml/appconfig_yaml.html">YAML App Config</a></li>
        <li><a href="../../java/configyaml/backends.html">Backends Config</a></li>
        <li><a href="../../java/configyaml/indexconfig.html">Index Config</a></li>
        <li><a href="../../java/configyaml/cron.html">Scheduled Tasks</a></li>
        <li><a href="../../java/configyaml/queue.html">Task Queue Config</a></li>
        <li><a href="../../java/configyaml/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../../java/tools/index.html">Tools</a>
      <ul>
            <li><a href="../../java/tools/devserver.html">Development Server</a></li>
    <li><a href="../../java/tools/uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="../../java/tools/eclipse.html">Google Plugin for Eclipse</a></li>
    <li><a href="../../java/tools/ant.html">Using Apache Ant</a></li>
    <li><a href="../../java/tools/capabilities.html">Capabilities Service Test Configuration</a>
    <li><a href="../../java/tools/localunittesting.html">Local Unit Testing</a>
        <ul>
            <li><a href="../../java/tools/localunittesting/javadoc/index.html">Testing Javadoc</a></li>
        </ul>
    </li>
    <li><a href="../../java/tools/appstats.html">Appstats</a></li>
    <li><a href="../../java/tools/remoteapi.html">Remote API</a></li>

      </ul>
    </li>
    <li><a href="../../java/howto/index.html">How-To</a>
      <ul>
              <li><a href="../../java/howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Python</h2>
    <ul>
          <li><a href="../overview.html">Overview</a></li>
    <li><a href="../runtime.html">Runtime Environment</a></li>
    <li><a href="../python27/index.html">Python 2.7</a>
      <ul>
            <li><a href="../python27/newin27.html">What's New in Python 2.7</a></li>
    <li><a href="../python27/using27.html">Using Python 2.7</a></li>

      </ul>
    </li>
    <li><a href="../backends/index.html">Backends</a>
      <ul>
        <li><a href="../backends/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../backends/functions.html">Backends API Functions</a></li>
    <li><a href="../backends/exceptions.html">Backends API Exceptions</a></li>
    <li><a href="../backends/logserviceapi.html">LogService API</a></li>
    <li><a href="../backends/applog.html">AppLog Class</a></li>
    <li><a href="../backends/requestlog.html">RequestLog Class</a></li>
    <li><a href="../backends/runtimeapi.html">Runtime API</a></li>
  </ul>
</li>

      </ul>
    </li>
    <li><a href="../datastore/index.html">Storing Data</a>
      <ul>
              <li><a href="../datastore/overview.html">Datastore Overview</a></li>
      <li><a href="../datastore/entities.html">Entities</a></li>
      <li><a href="../datastore/queries.html">Queries</a></li>
      <li><a href="../datastore/transactions.html">Transactions</a></li>
      <li><a href="../datastore/datamodeling.html">Data Modeling</a></li>
      <li><a href="../datastore/gqlreference.html">GQL Reference</a></li>
      <li><a href="../datastore/hr/index.html">Choosing a Datastore</a></li>
      <li><a href="../datastore/hr/overview.html">Using the High Replication Datastore</a></li>
      <li><a href="../datastore/metadataqueries.html">Metadata Queries</a></li>
      <li><a href="../datastore/stats.html">Statistics</a></li>
      <li><a href="../datastore/async.html">Async API</a></li>
      <li><span class="tlw-title tlw-expanded">Reference</span>
        <ul>
          <li><a href="../datastore/typesandpropertyclasses.html">Types and Property Classes</a></li>
          <li><a href="../datastore/gqlreference.html">GQL Reference</a></li>
          <li><a href="../datastore/modelclass.html">Model</a></li>
          <li><a href="../datastore/expandoclass.html">Expando</a></li>
          <li><a href="../datastore/polymodelclass.html">PolyModel</a></li>
          <li><a href="../datastore/propertyclass.html">Property</a></li>
          <li><a href="../datastore/queryclass.html">Query</a></li>
          <li><a href="../datastore/gqlqueryclass.html">GqlQuery</a></li>
          <li><a href="../datastore/metadataqueryclass.html">Metadata Query</a></li>
          <li><a href="../datastore/keyclass.html">Key</a></li>
          <li><a href="../datastore/functions.html">Functions</a></li>
          <li><a href="../datastore/exceptions.html">Exceptions</a></li>
        </ul>
      </li>

      </ul>
    </li>
    <li><a href="../dataprocessing/index.html">Data Processing</a>
      <ul>
             <li><a href="../dataprocessing/overview.html">Overview</a></li>
     <li><a href="../dataprocessing/helloworld.html">Hello World</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../dataprocessing/mapreducepipelineclass.html">Mapreduce Pipline</a></li>
         <li><a href="../dataprocessing/readers_writers.html">Standard Input Readers and Output Writers</a></li>
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="../apis.html">Services</a>
      <ul>
        <li><a href="../appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../appidentity/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../appidentity/functions.html">Functions</a></li>
    <li><a href="../appidentity/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../blobstore/blobinfoclass.html">BlobInfo</a></li>
    <li><a href="../blobstore/blobkeyclass.html">BlobKey</a></li>
    <li><a href="../blobstore/blobreaderclass.html">BlobReader</a></li>
    <li><a href="../blobstore/functions.html">Functions</a></li>
    <li><a href="../blobstore/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../capabilities/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../capabilities/capabilitysetclass.html">CapabilitySet</a></li>
    <li><a href="../capabilities/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../conversion/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../conversion/conversionclass.html">Conversion Class</a></li>
    <li><a href="../conversion/propertyclasses.html">Property Classes</a></li>
    <li><a href="../conversion/functions.html">Functions</a></li>
    <li><a href="../conversion/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../channel/index.html">Channel</a>
          <ul>
            <li><a href="../channel/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../channel/functions.html">Functions</a></li>
    <li><a href="../channel/exceptions.html">Exceptions</a></li>
    <li><a href="../channel/javascript.html">Client Javascript Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../images/index.html">Images</a>
          <ul>
                 <li><a href="../images/overview.html">Overview</a></li>
     <li><a href="../images/installingPIL.html">Installing PIL</a></li>
     <li><a href="../images/usingimages.html">Using the Images API</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../images/imageclass.html">Image</a></li>
         <li><a href="../images/functions.html">Functions</a></li>
         <li><a href="../images/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../mail/index.html">Mail</a>
          <ul>
                 <li><a href="../mail/overview.html">Overview</a></li>
     <li><a href="../mail/sendingmail.html">Sending Mail</a></li>
     <li><a href="../mail/receivingmail.html">Receiving Mail</a></li>
     <li><a href="../mail/attachments.html">Attachments</a></li>
     <li><a href="../mail/headers.html">Headers</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../mail/emailmessageclass.html">EmailMessage</a></li>
         <li><a href="../mail/emailmessagefields.html">Message Fields</a></li>
         <li><a href="../mail/functions.html">Functions</a></li>
         <li><a href="../mail/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../memcache/overview.html">Overview</a></li>
      <li><a href="../memcache/usingmemcache.html">Using Memcache</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../memcache/clientclass.html">Client</a></li>
         <li><a href="../memcache/functions.html">Functions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../multitenancy/overview.html">Overview</a></li>
    <li><a href="../multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li>Reference
      <ul>
        <li><a href="../multitenancy/functions.html">Functions</a></li>
        <li><a href="../multitenancy/exceptions.html">Exceptions</a></li>
      </ul>
    </li>

          </ul>
        </li>
        <li><a href="../oauth/index.html">OAuth</a>
          <ul>
                 <li><a href="../oauth/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../oauth/functions.html">Functions</a></li>
         <li><a href="../oauth/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../prospectivesearch/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../prospectivesearch/functions.html">Functions</a></li>
    <li><a href="../prospectivesearch/exceptions.html">Exceptions</a></li>
  </ul>
</li> 

          </ul> 
        </li>
         <li><a href="../googlestorage/index.html">Google Cloud Storage</a>
          <ul>
            <li><a href="../googlestorage/overview.html">Overview</a></li>
<li><a href="../googlestorage/functions.html">Functions</a></li>
<li><a href="../googlestorage/exceptions.html">Exceptions</a></li>
    </li>


          </ul>
        </li>
        <li><a href="../taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../taskqueue/overview.html">Overview</a></li>
     <li><a href="../taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../taskqueue/tasks.html">Task Class</a></li>
         <li><a href="../taskqueue/taskretryoptions.html">TaskRetryOptions Class</a></li>
         <li><a href="../taskqueue/queues.html">Queue Class</a></li>
         <li><a href="../taskqueue/rest.html">REST</a>  <span class="exp-feat">(Experimental)</span></li>
         <li><a href="../taskqueue/functions.html">Functions</a></li>
         <li><a href="../taskqueue/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../urlfetch/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../urlfetch/fetchfunction.html">The fetch Function</a></li>
         <li><a href="../urlfetch/asynchronousrequests.html">Asynchronous Requests</a></li>
         <li><a href="../urlfetch/responseobjects.html">Response Objects</a></li>
         <li><a href="../urlfetch/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../users/index.html">Users</a>
          <ul>
                 <li><a href="../users/overview.html">Overview</a></li>
     <li><a href="../users/userobjects.html">User Objects</a></li>
     <li><a href="../users/loginurls.html">Login URLs</a></li>
     <li><a href="../users/adminusers.html">Admin Users</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../users/userclass.html">User</a></li>
         <li><a href="../users/functions.html">Functions</a></li>
         <li><a href="../users/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../xmpp/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../xmpp/functions.html">Functions</a></li>
         <li><a href="../xmpp/messageclass.html">Message</a></li>
         <li><a href="../xmpp/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../config/index.html">Configuration</a>
      <ul>
            <li><a href="../config/appconfig.html">App Config</a></li>
    <li><a href="../config/backends.html">Backends Config</a></li>
    <li><a href="../config/indexconfig.html">Index Config</a></li>
    <li><a href="../config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../config/queue.html">Task Queue Config</a></li>
    <li><a href="../config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><span class="tlw-title"><a href="index.html">Tools</a></span>
      <ul>
            <li><a href="devserver.html">Development Server</a></li>
    <li><a href="uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="uploadingdata.html">Uploading and Downloading Data</a></li>
    <li><span class="tlw-title"><a href="protorpc/index.html">ProtoRPC</a></span>
      <ul>
        <li><a href="protorpc/overview.html">Overview</a></li>
<li><a href="protorpc/definition-functions.html">Definition Module</a></li>
<li>Descriptor Module
  <ul>
        <li><a href="protorpc/descriptor/descriptorlibrary.html">DescriptorLibrary Functions</a></li>
    <li><a href="protorpc/descriptor/functions.html">Functions</a></li>

  </ul>
</li>
<li>Messages Module
  <ul>
        <li><a href="protorpc/messages/enumclass.html">Enum</a></li>
    <li><a href="protorpc/messages/enumfieldclass.html">EnumField</a></li>
    <li><a href="protorpc/messages/fieldclass.html">Field</a></li>
    <li><a href="protorpc/messages/fieldclasses.html">Message Field Classes</a></li>
    <li><a href="protorpc/messages/messageclass.html">Message</a></li>
    <li><a href="protorpc/messages/messagefieldclass.html">MessageField</a></li>
    <li><a href="protorpc/messages/variantclass.html">Variant</a></li>
    <li><a href="protorpc/messages/functions.html">Functions</a></li>
    <li><a href="protorpc/messages/exceptions.html">Exceptions</a></li>
  </ul>
</li>
<li>Remote Service Library
  <ul>
        <li><a href="protorpc/remote/index.html">Overview</a></li>
    <li><a href="protorpc/remote/httprequeststateclass.html">HttpRequestState Class</a></li>
    <li><a href="protorpc/remote/requeststateclass.html">RequestState Class</a></li>
    <li><a href="protorpc/remote/rpcstatusclass.html">RpcStatus Class</a></li>
    <li><a href="protorpc/remote/serviceclass.html">Service Class</a></li>
    <li><a href="protorpc/remote/functions.html">Functions</a></li>
    <li><a href="protorpc/remote/exceptions.html">Exceptions</a></li>

  </ul>
</li>
<li>Transport Library
  <ul>
        <li><a href="protorpc/transport/httptransport.html">HttpTransport Class</a></li>
    <li><a href="protorpc/transport/transport.html">Transport Class</a></li>

  </ul>
</li>
<li>WebApp Service Handlers
  <ul>
        <li><a href="protorpc/webapp/index.html">Overview</a></li>
    <li><a href="protorpc/webapp/functions.html">WebApp Service Handlers</a></li>

  </ul>
</li>

      </ul>
    </li>
    <li><a href="webapp/index.html">webapp Framework</a>
      <ul>
             <li><a href="webapp/overview.html">Overview</a></li>
     <li><a href="webapp/running.html">Running the Application</a></li>
     <li><a href="webapp/requesthandlers.html">Request Handlers</a></li>
     <li><a href="webapp/requestdata.html">Request Data</a></li>
     <li><a href="webapp/buildingtheresponse.html">Building the Response</a></li>
     <li><a href="webapp/redirects.html">Redirects, Headers and Status Codes</a></li>
     <li><a href="webapp/blobstorehandlers.html">Blobstore Handlers</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="webapp/requestclass.html">Request</a></li>
         <li><a href="webapp/responseclass.html">Response</a></li>
         <li><a href="webapp/requesthandlerclass.html">RequestHandler</a></li>
         <li><a href="webapp/wsgiapplicationclass.html">WSGIApplication</a></li>
         <li><a href="webapp/utilmodule.html">Utility Functions</a></li>
         
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="localunittesting.html">Local Unit Testing</a></li>
    <li><a href="appstats.html">Appstats</a></li>
    <li><a href="libraries.html">Included Libraries </a>(Python 2.5)</li>
    <li><a href="libraries27.html">Included Libraries</a>(Python 2.7)</li>
    <li><a href="appengineconfig.html">Python Module Configuration</a></li>

      </ul>
    </li>
    <li><a href="../howto/index.html">How-To</a>
      <ul>
              <li><a href="../howto/usinggdataservices.html">Google Data Services</a></li>
      <li><a href="../howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Go</h2> <span class="exp-feat">Experimental!</span>
    <ul>
          <li><a href="../../go/overview.html">Overview</a></li>
    <li><a href="../../go/runtime.html">Runtime Environment</a>
      <ul>
        <li><a href="../../go/reference.html">Reference</a></li>
      </ul>
    </li>
    <li><a href="../../go/backends/index.html">Backends</a>
      <ul>
        <li><a href="../../go/backends/overview.html">Overview</a></li>
<li><a href="../../go/backends/runtime.html">Runtime package</a></li>

      </ul>
    </li>
    <li><a href="../../go/datastore/index.html">Storing Data</a>
      <ul>
             <li><a href="../../go/datastore/overview.html">Overview</a></li>
     <li><a href="../../go/datastore/transactions.html">Transactions</a></li>
     <li><a href="../../go/datastore/reference.html">Reference</a></li>

      </ul>
    </li>
    <li><a href="../../go/apis.html">Services</a>
      <ul>
        <li><a href="../../go/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../../go/blobstore/overview.html">Overview</a></li>
<li><a href="../../go/blobstore/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../go/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../../go/capabilities/overview.html">Overview</a></li>
<li><a href="../../go/capabilities/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../go/channel/index.html">Channel</a>
          <ul>
            <li><a href="../../go/channel/overview.html">Overview</a></li>
<li><a href="../../go/channel/reference.html">Reference</a></li>
<li><a href="../../go/channel/javascript.html">Client Javascript Reference</a></li>

          </ul>
        </li>
        <li><a href="../../go/mail/index.html">Mail</a>
          <ul>
                 <li><a href="../../go/mail/overview.html">Overview</a></li>
     <li><a href="../../go/mail/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../go/memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../../go/memcache/overview.html">Overview</a></li>
     <li><a href="../../go/memcache/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../go/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../../go/taskqueue/overview.html">Overview</a></li>
     <li><a href="../../go/taskqueue/reference.html">Reference</a></li>
     <li><a href="../../go/taskqueue/delay.html">Delay package</a></li>

          </ul>
        </li>
        <li><a href="../../go/urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../../go/urlfetch/overview.html">Overview</a></li>
     <li><a href="../../go/urlfetch/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../../go/users/index.html">Users</a>
          <ul>
                 <li><a href="../../go/users/overview.html">Overview</a></li>
     <li><a href="../../go/users/reference.html">Reference</a></li>

          </ul>
        </li>
      </ul>
        <li><a href="../../go/config/index.html">Configuration</a>
          <ul>
                <li><a href="../../go/config/appconfig.html">App Config</a></li>
    <li><a href="../../go/config/backends.html">Backends Config</a></li>
    <li><a href="../../go/config/indexconfig.html">Index Config</a></li>
    <li><a href="../../go/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../../go/config/queue.html">Task Queue Config</a></li>
    <li><a href="../../go/config/dos.html">DoS Protection Config</a></li>

          </ul>
        </li>
        <li><a href="../../go/tools/index.html">Tools</a>
          <ul>
                <li><a href="../../go/tools/devserver.html">Development Server</a></li>
    <li><a href="../../go/tools/uploadinganapp.html">Uploading and Managing an App</a></li>

          </ul>
        </li>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Managing Your App</h2>
    <ul>
      <li><a href="../../adminconsole/index.html">Admin Console</a>
        <ul>
          <li><a href="../../adminconsole/instances.html">Instances</a></li>
<li><a href="../../adminconsole/roles.html">Roles</a></li>
<li><a href="../../adminconsole/applicationsettings.html">Application Settings</a></li>
<li><a href="../../adminconsole/datastoreadmin.html">Datastore</a></li>
<li><a href="../../adminconsole/performancesettings.html">Performance Settings</a></li>

        </ul>
      </li>
      <li><a href="../../quotas.html">Quotas</a></li>
      <li><a href="../../billing.html">Billing</a></li>
      <li><a href="../../premier/index.html">Premier Accounts</a></li>
      <li><a href="../../domain.html">Using a Custom Domain</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Resources</h2>
    <ul>
      <li><a href="../../../kb/index.html">FAQ</a></li>
      <li><a href="../../../articles/index.html">Articles</a></li>
      <li><a href="../../videoresources.html">Video Resources</a><sup class="new">New!</sup></li>
      <li><a href="http://code.google.com/p/googleappengine/">SDK Code</a></li>
      <li><a href="http://code.google.com/p/datanucleus-appengine/">JDO/JPA Code</a></li>
      <li><a href="http://code.google.com/p/google-app-engine-samples/">Sample Apps Code</a></li>
      <li>Launcher Code
        <ul>
          <li><a href="http://code.google.com/p/google-appengine-mac-launcher/">Mac</a></li>
          <li><a href="http://code.google.com/p/google-appengine-wx-launcher/">Windows/wx</a></li>
        </ul>
      </li>
      <li><a href="../../../community.html">Discussion Groups</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><a href="../../roadmap.html">Product Roadmap</a></li>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkReleaseNotes">Release Notes: Python</a></li>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkForJavaReleaseNotes">Release Notes: Java</a></li>
  <li><a href="../../revision_history.html">Revision History</a></li>
</ul>

        <a class="hidden" href="#gc-topnav-anchor">More Google App Engine resource links</a>
      </div>

      <div class="g-unit" id="gc-pagecontent">
        <h1 class="page_title">Uploading and Downloading Data</h1>



<p>The bulk loader tool can upload and download data to and from your application's datastore. With just a little bit of setup, you can upload new datastore entities from CSV and XML files, and download entity data into CSV, XML, and text files. Most spreadsheet applications can export CSV files, making it easy for non-developers and other applications to produce data that can be imported into your app. You can customize the upload and download logic to use different kinds of files, or do other data processing.</p>



<p class="note"><strong>Note: </strong> This document applies to apps that use the <a href="../datastore/hr/index.html">master/slave datastore</a>. If your app uses the High Replication datastore, it is possible to copy data from the app, but Google does not currently support this use case. If you attempt to copy from a High Replication datastore, you'll see a <code>high_replication_warning</code> error in the Admin Console, and the downloaded data might not include recently saved entities.  </p>

<p>You can use the bulk loader tool to download and upload all datastore entities in a special format suitable for backup and restore, without any additional code or configuration. You configure the bulk loader with a <i>configuration file</i> that specifies the format of uploaded and downloaded data. You can use the bulk loader itself to automatically generate a configuration file based on your app's datastore, and you can then edit that configuration file to suit your needs exactly.</p>

<p>The bulk loader is available via the <code>appcfg.py</code> command.</p>

<ul>
  <li><a href="#Setting_Up_remote_api">Setting Up remote_api</a></li>
  <li><a href="#Downloading_and_Uploading_All_Data">Downloading and Uploading All Data</a></li>
  <li><a href="#Configuring_the_Bulk_Loader">Configuring the Bulk Loader</a></li>
  <ul>
    <li><a href="#Using_Automatic_Configuration">Using Automatic Configuration</a></li>
    <li><a href="#Editing_the_Configuration_File">Editing the Configuration File</a></li>
    <li><a href="#Configuration_File_Reference_Details">Configuration File Reference Details</a></li>
  </ul>
  <li><a href="#(Deprecated)_Using_Code_for_Configuration">(Deprecated) Using Code for Configuration</a></li>
</ul>


<h2 id="Setting_Up_remote_api">Setting Up remote_api</h2>

<p>The bulk loader tool communicates with your application running on App Engine using remote_api, a request handler included with the App Engine runtime environment that allows remote applications with the proper credentials to access the datastore remotely. There are two ways to install remote_api: automatically using the <code>builtins</code> directive, or you manually using the <code>url</code> directive.</p>

<p class="note"><b>Tip:</b> If you have a Java app, you can use the Python <code>appcfg.py</code> tool by installing the Java version of the remote_api handler, which is included with the Java runtime environment. The handler servlet class is <code>com.google.apphosting.utils.remoteapi.RemoteApiServlet</code>.</p>


<h3>Installing remote_api Using the builtins Directive</h3>
<p>Edit your <code>app.yaml</code>, and add the following to <code>app.yaml</code>:</p>

<pre class="prettyprint lang-yaml">
builtins:
- remote_api: on
</pre>

<p>This directive finds the <code>include.yaml</code> file for the remote_api and maps the request handler to <code>/_ah/remote_api</code>. Only administrators of the application can access this URL.</p>

<p>After adding the <code>builtins</code> directive, you need to update your app with the revised <code>app.yaml</code>:</p>

<pre>
appcfg.py update <i>&lt;app-directory&gt;</i>
</pre>

<p class="warning"><strong>Warning!</strong> You need to use the same path for remote_api throughout your application. If your application currently uses the <code>url</code> directive and you switch to using <code>builtins</code>, you'll need to update your code to reflect the new installation path for remote_api, which is <code>_ah/remote_api</code>.</p>

<h3>Installing remote_api Using the url Directive</h3>
<p>If you want to install remote_api in a custom path, don't use <code>builtins</code>. Instead, specify that path with the <code>url</code> handler as follows:</p>

<pre class="prettyprint lang-yaml">- url: /remote_api
  script: $PYTHON_LIB/google/appengine/ext/remote_api/handler.py
  login: admin</pre>

<p>This maps the remote_api request handler to the URL <code>/remote_api</code> for your application. You can use any URL you like. Access to this URL is restricted to administrators for the application.</p>

<p class="note"><b>Note:</b> Be sure you place this entry above any wildcard entries (entries containing an <code>*</code> in the URL mapping) that would match the URL.</p>
 
<p>After adding the <code>url</code> directive, you need to update your app to install the new <code>app.yaml</code> and the remote_api URL:</p>

<pre>
appcfg.py update <i>&lt;app-directory&gt;</i>
</pre>

<h2 id="Downloading_and_Uploading_All_Data">Downloading and Uploading All Data</h2>

<p>If your app uses the <a href="../datastore/hr/index.html">master/slave datastore</a>, you can download and upload every entity of a kind in a format suitable for backup and restore, all without writing any additional code or configuration. If your app uses the High Replication datastore, it is not so simple. If you attempt to download data, you'll see a <code>high_replication_warning</code> error in the Admin Console, and the downloaded data might not include recently saved entities.</p>
<p>To download all entities of all kinds from an app's master/slave datastore, run the following command:</p>

<pre>appcfg.py download_data --application=<i>&lt;your_app_id&gt;</i> --url=http://<i>your_app_id</i>.appspot.com/[remote_api_path] --filename=<i>&lt;data-filename&gt;</i></pre>

<p>You can also use the <code>--kind=...</code> argument to download all entities of a specific kind:</p>

<pre>appcfg.py download_data --application=<i>&lt;your_app_id&gt;</i> --kind=<i>&lt;kind&gt;</i> --url=http://<i>your_app_id</i>.appspot.com/[remote_api_path] --filename=<i>&lt;data-filename&gt;</i></pre>

<p class="note"><b>Note:</b> Downloading all entities of all kinds only works on App Engine, and does not work with the development server.</p>

<p>To upload data to the app's datastore from a file created by <code>appcfg.py download_data</code>, run the following command:</p>

<pre>appcfg.py upload_data --application=<i>&lt;your_app_id&gt;</i> --kind=<i>&lt;kind&gt;</i> --filename=<i>&lt;data-filename&gt;</i> <i>&lt;app-directory&gt;</i></pre>

<p>When data is downloaded, the entities are stored along with their original keys. When the data is uploaded, the original keys are used. If an entity exists in the datastore with the same key as an entity being uploaded, the entity in the datastore is replaced.</p>

<p>You can use <code>upload_data</code> to replace the data in the app from which it was dumped, or you can use it to upload the data to a different application. Entities with numeric system IDs will be uploaded with the same IDs, and reference properties will be preserved.</p>


<h2 id="Configuring_the_Bulk_Loader">Configuring the Bulk Loader</h2>

<p>The bulk loader uses configuration files to describe the data you're uploading or downloading. You can use the bulk loader itself to automatically generate these configuration files. To generate a configuration file for an existing app, you call the bulk loader with the <code>create_bulkloader_config</code> action. After the configuration file is generated, you'll then edit some details in the file before using it.</p>

<h3 id="Using_Automatic_Configuration">Using Automatic Configuration</h3>

<p>The bulk loader uses a <code>bulkloader.yaml</code> file to describe how your data should be transformed when uploaded or downloaded. This file includes a header, followed by a list of transforms. Each transform describes two stages of transformation: between external data and an intermediate format, and between the intermediate format and a datastore entity.</p>

<p>When you import data, one transform reads data from an external source, such as a CSV or XML file, and converts it to an intermediate format (a Python dictionary) that represents the contents of the file. A second transform converts the data from the intermediate format to App Engine datastore entities. When you export data, the process is reversed. First, entities are transformed to an intermediate format, then from that format to the export format.</p>

<p>When you run the bulk loader to automatically generate the <code>bulkloader.yaml</code> file, the bulk loader examines your datastore statistics and creates transforms based on the kinds and properties of your app's data. Note that your datastore statistics can be up to 24 hours old, so if you change your schema, the generated file might not reflect the changes right away.</p>

<p>To automatically generate the <code>bulkloader.yaml</code> file based on your datastore statistics, run the bulk loader with the <code>create_bulkloader_config</code> action:</p>

<pre>appcfg.py create_bulkloader_config --filename=bulkloader.yaml <app-directory></pre>

<p class="note"><b>Tip:</b> If you have a Java app, specify the URL of your app's <code>remote_api</code> handler instead of the app directory:<br/>
<code>appcfg.py create_bulkloader_config --filename=bulkloader.yaml --url=http://<i>your_app_id</i>.appspot.com/remote_api</code></p>

<p class="note"><b>Note:</b> Using the bulk loader to generate a configuration file only works on App Engine, and does not work with the development server.</p>

<p>You'll use the generated file as input to the bulk loader tool when you run it again to perform an import or export. Below is an example of the output that appears when you run the bulk loader with the <code>create_bulkloader_config</code> action:</p>

<pre>
[INFO    ] Logging to bulkloader-log-20100516.144319
[INFO    ] Throttling transfers:
[INFO    ] Bandwidth: 250000 bytes/second
[INFO    ] HTTP connections: 8/second
[INFO    ] Entities inserted/fetched/modified: 20/second
[INFO    ] Batch Size: 100
[INFO    ] Opening database: bulkloader-progress-20100516.144319.sql3
[INFO    ] Opening database: bulkloader-results-20100516.144319.sql3
[INFO    ] Connecting to <i>your_app_id</i>.appspot.com/remote_api
No handlers could be found for logger "google.appengine.tools.appengine_rpc"
[INFO    ] Downloading kinds: ['__Stat_PropertyType_PropertyName_Kind__']
.
[INFO    ] Have 64 entities, 0 previously transferred
[INFO    ] 64 entities (23986 bytes) transferred in 1.9 seconds
</pre> 

<p>Now let's look at the generated <code>bulkloader.yaml</code> file, along with descriptions of each section. The first section:</p>

<pre class="prettyprint lang-yaml"># Autogenerated bulkloader.yaml file.
# You must edit this file before using it. TODO: Remove this line when done.
# At a minimum address the items marked with TODO:
#  * Fill in connector and connector_options
#  * Review the property map
#    - Ensure the 'external_name' matches the name of your CSV column,
#      XML tag, etc.
#    - Check that __key__ property is what you want. Its value will become
#      the key name on import, and on export the value will be the Key
#      object. If you would like automatic key generation on import and
#      omitting the key on export, you can remove the entire __key__
#      property from the property map.
</pre>
 
<p>You'll need to edit the generated file before you can use it with your data. These instructions at the top of the file remind you of items in the file that you should address.</p>

<p>The next section lists Python modules to be imported:</p>
 
<pre class="prettyprint lang-yaml"># If you have module(s) with your model classes, add them here. Also
# change the kind properties to model_class.
python_preamble:
- import: google.appengine.ext.bulkload.transform
- import: google.appengine.ext.db
- import: re
- import: base64</pre> 
 
<p>You probably won't have to edit this section, unless you want to import any additional Python modules when doing the bulk loader import or export.</p>

<p>The next section of the <code>bulkloader.yaml</code> file provides details on how the data should be transformed upon input and output:
 
<pre class="prettyprint lang-yaml">transformers:
- kind: Permission
  connector: # TODO: Choose a connector here: csv, simplexml, etc...
  connector_options:
    # TODO: Add connector options here--these are specific to each connector.
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string
 
    - property: account
      external_name: account
      # Type: Key Stats: 119 properties of this type in this kind.
      import_transform: transform.create_foreign_key('TODO: fill in Kind name')
      export_transform: transform.key_id_or_name_as_string
 
    - property: invite_nonce
      external_name: invite_nonce
      # Type: String Stats: 19 properties of this type in this kind.
 
    - property: role
      external_name: role
      # Type: Integer Stats: 119 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)
 
    - property: user
      external_name: user
      # Type: Key Stats: 119 properties of this type in this kind.
      import_transform: transform.create_foreign_key('TODO: fill in Kind name')
      export_transform: transform.key_id_or_name_as_string</pre> 
 
<p>The <code>bulkloader.yaml</code> file contains one set of transforms for each kind you want to process. The generated file contains a set for each kind in your datastore. This example includes the following: one kind, <code>permission</code>; a <i>connector</i>, which you'll fill in when the file is edited, specifying the external format of the data; optional <i>connector_options</i>, also to be added, that specify various settings and flags for the connector; and a <i>property_map</i> describing all the properties in the data.</p>

<h3 id="Editing_the_Configuration_File">Editing the Configuration File</h3>

<p>The first step in editing the <code>bulkloader.yaml</code> file is to specify the connector and connector options. The bulk loader supports CSV and XML (represented by <code>csv</code> and <code>xml</code> respectively) connectors for data import and export, and simple text (<code>simpletext</code>) for export only. In the sample, we'll set up the CSV connector to read the data on import and write it on export. We'll use the default options of the CSV connector, which are to read the column names from the first row of the CSV file, and to write them there on export.</p>

<pre class="prettyprint lang-yaml">
- kind: Permission
  connector: csv
</pre> 






<p>The next section describes the properties of the data. Each property entry specifies how to transform a particular property on import and export. The auto-generated file includes 4 properties identified by the bulk loader, plus the <code>__key__</code> pseudo-property. Each property has an <i>external name</i> and optional transforms for input and output. These specify how to transform data between the datastore and an external representation. We also must add the kind names for the two reference properties, replacing <code>TODO</code> strings in the original file. Here's the edited properties section:</p>

<pre class="prettyprint lang-yaml">property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string
 
    - property: account
      external_name: account
      import_transform: transform.create_foreign_key('Account')
      export_transform: transform.key_id_or_name_as_string
 
    - property: invite_nonce
      external_name: invite_nonce
 
    - property: role
      external_name: role
      import_transform: transform.none_if_empty(int)
 
    - property: user
      external_name: user
      import_transform: transform.create_foreign_key('User')
      export_transform: transform.key_id_or_name_as_string
</pre> 
 
<p>With the <code>bulkloader.yaml</code> file complete, we can now import data from an external CSV file to the datastore:</p>

<pre>appcfg.py upload_data --config_file=bulkloader.yaml --filename=users.csv --kind=Permission <app-directory></pre>

<p class="note"><b>Tip:</b> For Java apps:<br/>
<code>appcfg.py upload_data --config_file=bulkloader.yaml --filename=users.csv --kind=Permission --url=http://<i>your_app_id</i>.appspot.com/remote_api</code></p>

<p>You can use the same <code>bulkloader.yaml</code> file to export data, as in the following example command line:</p>

<pre>appcfg.py download_data --config_file=bulkloader.yaml --filename=users.csv --kind=Permission --url=<i>&lt;app-directory&gt;</i></pre>

<p class="note"><b>Tip:</b> For Java apps:<br/>
<code>appcfg.py download_data --config_file=bulkloader.yaml --filename=users.csv --kind=Permission --url=http://<i>your_app_id</i>.appspot.com/remote_api</code></p>

<p>In this invocation of <code>appcfg.py</code>, data from your app's datastore is exported to a CSV file named <code>exported_data.csv</code>.</p>

<h3 id="Configuration_File_Reference_Details">Configuration File Reference Details</h3>

<p>This section contains details of the format of <code>bulkloader.yaml</code> files and options for the <code>appcfg.py</code> tool.</p>

<p>The file begins with a header containing information that applies to the entire file. This section is used for specifying Python modules to be imported.</p>

<p>The Transformers section lists entity kinds and transform information. Each entity begins by specifying a kind. You can specify a model class instead of a kind. For each entity kind, the file specifies a connector (<code>csv</code>, <code>xml</code>, or <code>simpletext</code> [for export only]), optional connector options, and a property map. Within the property map, each property is specified, along with an external name, and transforms for import and export, if required.</p>

<p>The connector options are as follows:</p>

<dl> 
  <dt><code>csv</code> connector</dt> 
  <dd> 
    <dl> 
      <dt><code>encoding</code></dt>
      <dd>Any <a href="http://docs.python.org/library/codecs.html#standard-encodings">Python standard encoding format</a>, such as <code>utf-8</code> (the default) or <code>windows-1252</code>.</dd>
      <dt><code>column_list</code></dt>
        <dd>Use a sequence of names specified here for columns on import and export. If not specified, use first row of data to calculate <code>external_name</code> of each column, then read or write data starting with second row.</dd>
      <dt><code>skip_import_header_row</code></dt>
        <dd>If true, header line will be ignored on import.</dd>
      <dt><code>print_export_header_row</code></dt>
        <dd>If true, header line will be printed on export.</dd>
      <dt><code>import_options</code></dt>
        <dd>Additional keyword arguments for the <a href="http://docs.python.org/library/csv.html">Python CSV module</a> on import. Use <code>dialect: excel-tab</code> for a TSV file.</a></dd>
      <dt><code>export_options</code></dt>
        <dd>Additional keyword arguments for the <a href="http://docs.python.org/library/csv.html">Python CSV module</a> on export.</dd>
      </dt>
    </dl>
  </dd>
  <dt><code>simplexml</code> connector</dt>
  <dd>
    <dl>
      <dt><code>xpath_to_nodes</code></dt>
        <dd>An xpath that specifies the nodes to be read. Basic queries of the form <code>/node1/node2</code> are supported, but some others may not be. If an alternate form is specified, export will be disabled. Namespaces are not well supported.</dd>
      <dt><code>style</code></dt>
        <dd>Possible values are <code>element_centric</code> and <code>attribute_centric</code>. The children of the nodes found with <code>xpath_to_nodes</code> will be converted into the intermediate format. The <code>style</code> argument determines whether the attributes of the found node (<code>attribute_centric</code>) or the child nodes (<code>element_centric</code>) are used. The entire node is also passed in as <code>__node__</code>.</dd>
    </dl>
  </dd>
  <dt><code>simpletext</code> connector</dt>
  <dd>
    <dl>
      <dt><code>template</code></dt>
      <dd>A Python <code>dict</code> interpolation string used for each exported record.</dd>
      <dt><code>prolog</code> (optional)</dt>
      <dd>Written before the per-record output.</dd>
      <dt><code>epilog</code> (optional)</dt>
      <dd>Written after the per-record output.</dd>
      <dt><code>mode</code> (optional)</dt>
      <dd>
        <dl>
          <dt><code>text</code> (default)</dt>
          <dd>Text file mode. Newlines are written between records.</dd>
          <dt><code>nonewline</code></dt>
          <dd>Text file mode. No newlines are added.</dd>
          <dt><code>binary</code></dt>
          <dd>Binary file mode. No newlines are added.</dd>
        </dl>
      </dd>
    </dl>
  </dd>
</dl>

<p>The property map section defines the details of the transform between the entity and the intermediate format. The elements of the property map:</p>

<dl> 
  <dt><code>property</code></dt> 
  <dd>The name of the property, as defined in the entity or model.</dd>
  <dt><code>external_name</code></dt>
  <dd>Maps a single property, such as a single CSV column, to a single entry in the intermediate dictionary.</dd>
  <dt><code>import_template</code></dt>
  <dd>Specifies multiple dictionary items for a single property, using Python string interpolation.</dd>
  <dt><code>import_transform</code></dt>
  <dd>A single-argument function that returns the correct value and type data based on the <code>external_name</code> or <code>import_template</code> strings. Examples include the built-in Python conversion operators (such as <code>float</code>), any of several helper functions provided in <code>transform</code>, such as <code>get_date_time</code> or <code>generate_foreign_key</code>, a function provided in your own library, or an in-line lambda function. Or, a two-argument function with the keyword argument <code>bulkload_state</code>, which on return contains useful information about the entity: <code>bulkload_state.current_entity</code>, which is the current entity being processed; <code>bulkload_state.current_dictionary</code>, the current export dictionary, and <code>bulkload_state.filename</code>, the <code>--filename</code> argument that was passed to <code>appcfg.py</code>.</dd>
  <dt><code>export_transform</code></dt>
  <dd>Like <code>import_transform</code>, except performed on export.</dd>
  <dt><code>export</code></dt>
  <dd>Like <code>import_template</code>, except performed on export and specified as a sequence of <code>external_name/export_transform</code> values.</dd>
</dl>

<p>Each entity created on import has a key. If you don't specify a key, it will be generated automatically by the datastore. If you want to use or calculate a key from the import data, specify a key using the same syntax as the property map; that is, <code>external_name</code>, <code>import_template</code>, and so on.</p>

<p>If you want to do additional processing on data that can't be easily described in a property map, you can specify a function to modify the entity in arbitrary ways, or even return multiple entities on import. To use this feature, add one or both of the following to your transform entry:</p>

<p><code>post_import_function(input_dict, instance, bulkload_state_copy) <i>functionName</i></code></p>

<p>Your function must return one of the following: <code>None</code>, which means to skip importing this record; a single entity (usually the <code>instance</code> argument that was passed in); or a list of multiple entities to be imported.</p>

<p><code>post_export_function(instance, export_dict, bulkload_state) <i>functionName</i></code></p>

<p>Your function must return one of the following: <code>None</code>, which means this result should be skipped; or a <code>dict</code> (typically the <code>export_dict</code> argument that was passed in), containing the entities.</p>

<p>Note: on export, the conversion to the model class is skipped, for performance reasons. If your model class has code you want to run, use <code>use_model_on_export</code>.



<h2 id="(Deprecated)_Using_Code_for_Configuration">(Deprecated) Using Code for Configuration</h2>

<p class="note"><b>Note:</b> The rest of this document describes the bulk loader as it worked prior to version 1.3.4. In the prior version, you used Python code to configure the uploaded and downloaded data instead of a declarative configuration file. This information is provided as a reference for users of the previous version, but you should not rely on these features to remain supported in the future.</p>



<p>This section describes how to use code to configure the bulk loader rather than configuration files.</p>

<h2 id="Creating_Loader_Classes">Creating Loader Classes</h2>

<p>To upload data, you must tell <code>appcfg.py</code> how to translate each row in the data file to a datastore entity. You do this using a file of Python code. The file imports or defines the Model classes for the entities being created, defines a loader class for each kind you wish to import, and declares the available loader classes in a global variable.</p>

<p>For example, say you have a Model class named <code>Album</code> defined in a file named <code>models.py</code> (which is in your PYTHONPATH, such as the directory where you'll run the tool) that resembles the following:</p>

<pre class="prettyprint">
from google.appengine.ext import db

class Album(db.Model):
    artist = db.StringProperty()
    title = db.StringProperty()
    publication_date = db.DateProperty()
    length_in_minutes = db.IntegerProperty()
</pre>

<p>You wish to import a CSV file that has the columns in the following order: title, artist, publication date, and length in minutes. The CSV file contains string representations for each of these values.</p>

<p>The following is a loader class file for this data:</p>

<pre class="prettyprint">
import datetime
from google.appengine.ext import db
from google.appengine.tools import bulkloader
import models

class AlbumLoader(bulkloader.Loader):
    def __init__(self):
        bulkloader.Loader.__init__(self, 'Album',
                                   [('title', str),
                                    ('artist', str),
                                    ('publication_date',
                                     lambda x: datetime.datetime.strptime(x, '%m/%d/%Y').date()),
                                    ('length_in_minutes', int)
                                   ])

loaders = [AlbumLoader]
</pre>

<p>The bulk loader tool looks for a global variable in the loader class file named <code>loaders</code>, whose value is a list of loader classes to use. In this example, the tool loads the <code>AlbumLoader</code> class for loading entities of the kind <code>Album</code>.</p>

<p>The loader class defines an <code>__init__()</code> method that calls the <code>__init__()</code> on the <code>Loader</code> class. The first argument is <code>self</code>, the loader class instance. The second argument is the name of the datastore kind as a string, in this case <code>'Album'</code>. The third argument is a sequence of tuples, where each tuple contains the name of the property (a string) and a conversion function. The conversion function must take a string and return one of <a href="../datastore/typesandpropertyclasses.html">the datastore value types</a>.</p>

<p>In this example, the <code>'title'</code> and <code>'artist'</code> properties both take string values, so the conversion function is <code>str</code>, the string constructor. The <code>'length_in_minutes'</code> property takes an integer, and the <code>int</code> constructor takes a string and converts it to an integer value.</p>

<p>For the <code>'publication_date'</code> property, the model needs a <code>datetime</code> value. In this case, we know (from our data file) that publication dates are represented in the form <code>mm/dd/yyyy</code>. The conversion function is a Python lambda expression (a short function) that takes a string, then passes it to <code>datetime.datetime.strptime()</code> with a pattern to parse the value to a <code>datetime.datetime</code>, then calls its <code>date()</code> method to get the final <code>datetime.date</code> value.</p>

<p>If any conversion function raises an exception or fails to return a value that meets the requirements of the Model class, processing of the data file stops and reports an error. If you are using a progress file (with Sqlite, as described above), you can fix the CSV file (or the code, as needed), then re-run the upload to continue starting from the row where the error occurred.</p>

<p>If the name of the file containing the loader class definition is <code>album_loader.py</code>, you would give <code>appcfg.py upload_data</code> the following argument: <code>--config_file=album_loader.py</code></p>




<h2 id="Preparing_Your_Data">Preparing Your Data</h2>

<p><code>appcfg.py upload_data</code> accepts data in the form of a file in the CSV (Comma Separated Values) format, a simple text file representing a table of values, with one row per line and columns delimited by commas (<code>,</code>). If a value contains one or more commas, the value is surrounded by double quotes (<code>&quot;</code>). If a value contains a double quote, the double quote appears twice (<code>&quot;&quot;</code>). The tool uses the <a href="http://www.python.org/doc/2.5.2/lib/module-csv.html">csv</a> module from the Python standard library to parse the data file.</p>

<p>The file must use the UTF-8 encoding for the text data. UTF-8 encoding is compatible with ASCII encoding, so any spreadsheet application that saves CSV as ASCII will also work. If your CSV file contains UTF-8 characters, you will need to decode the characters in your Loader class. Here is an example of the AlbumLoader that supports UTF-8 titles and artists: </p>

<pre class="prettyprint">
import datetime
from google.appengine.ext import db
from google.appengine.tools import bulkloader
import models

class AlbumLoader(bulkloader.Loader):
    def __init__(self):
        bulkloader.Loader.__init__(self, 'Album',
                                   [('title', lambda x: x.decode('utf-8')),
                                    ('artist', lambda x: x.decode('utf-8')),
                                    ('publication_date',
                                     lambda x: datetime.datetime.strptime(x, '%m/%d/%Y').date()),
                                    ('length_in_minutes', int)
                                   ])

loaders = [AlbumLoader]
</pre>

<p>Most spreadsheet applications can export a sheet as a CSV file. To export a sheet as CSV from <a href="http://docs.google.com/">Google Spreadsheets</a>, select the <b>File</b> menu &gt; <b>Export</b> &gt; <b>.csv Sheet Only</b>, then save the file from the browser window that opens.</p>

<p>If the name of the CSV file to load is <code>album_data.csv</code>, you would give <code>appcfg.py upload_data</code> the following argument: <code>--filename=album_data.csv</code>

<p>If the CSV file's first row is not data (such as if it's a header row), use the following option to skip the first row: <code>--has_header</code></p>


<h2 id="Uploading_the_Data_to_App_Engine">Uploading the Data to App Engine</h2>

<p>To start the data upload, run <code>appcfg.py upload_data</code> with the appropriate arguments:</p>

<pre>
appcfg.py upload_data --config_file=album_loader.py --filename=album_data.csv --kind=Album <i>&lt;app-directory&gt;</i></i>
</pre>

<p>If you are using a Google Apps domain name and need appcfg.py to sign in using an account on that domain, you must specify the <code>--auth_domain=...</code> option, whose value is your domain name.</p>

<p>If the transfer is interrupted, you can resume the transfer from where it left off using the <code>--db_filename=...</code> argument. The value is the name of the progress file created by the tool, which is either a name you provided with the <code>--db_filename</code> argument when you started the transfer, or a default name that includes a timestamp. This assumes you have <code>sqlite3</code> installed, and did not disable the progress file with <code>--db_filename=skip</code>.</p>


<h2 id="Loading_Data_Into_the_Development_Server">Loading Data Into the Development Server</h2>

<p>If you'd like to test how your data works with the app before uploading it, you can load it into the development server. Use the <code>--url</code> option to point the tool at the development server URL. For example:</p>

<pre>
appcfg.py upload_data --config_file=album_loader.py --filename=album_data.csv --kind=Album --url=http://localhost:8080/[remote_api_path] <i>&lt;app-directory&gt;</i>
</pre>


<h2 id="Creating_Exporter_Classes">Creating Exporter Classes</h2>

<p>To download data, you must tell <code>appcfg.py</code> how to export datastore entities to a file. Similar to uploading and loader classes, you do this with a file of Python code. The file imports or defines the Model classes, defines an exporter class for each kind you wish to export, and declares the available exporter classes in a global variable.</p>

<p>Continuing the example with the <code>Album</code> Model class defined above, the following file defines an exporter that produces a CSV file in the same format used by the loader class:</p>

<pre class="prettyprint">
from google.appengine.ext import db
from google.appengine.tools import bulkloader
import models

class AlbumExporter(bulkloader.Exporter):
    def __init__(self):
        bulkloader.Exporter.__init__(self, 'Album',
                                     [('title', str, None),
                                      ('artist', str, None),
                                      ('publication_date', str, None),
                                      ('length_in_minutes', str, None)
                                     ])

exporters = [AlbumExporter]
</pre>

<p>The exporter class is similar to the loader class. The exporter class defines an <code>__init__()</code> method that calls the <code>__init__()</code> on the <code>Exporter</code> class. The first argument is <code>self</code>, the exporter instance. The second argument is the name of the datastore kind being exported, a string. The third argument is a sequence of tuples, one for each entity property being exported.</p>

<p>Each tuple has 3 elements: the property name, a function that takes the property value and converts it to a <code>str</code>, and a default value if the entity does not have the property set. If the default value is <code>None</code>, the exporter raises an exception if it attempts to export an entity that does not have the property.</p>

<p>The CSV file created by the exporter includes one row for each entity, and one column for each property mentioned in the sequence. The columns are in the order they appear in the sequence.</p>



<p class="note"><b>Tip:</b> You can define loader classes and exporter classes in the same file, and use the same arguments for <code>appcfg.py upload_data</code> and <code>appcfg.py download_data</code> to transfer data in both directions.</p>


<h2 id="Downloading_Data_from_App_Engine">Downloading Data from App Engine</h2>

<p>To start a data download, run <code>appcfg.py download_data</code> with the appropriate arguments:</p>

<pre>
appcfg.py download_data --config_file=album_loader.py --filename=album_data_archive.csv --kind=Album <i>&lt;app-directory&gt;</i></i>
</pre>

<p>If you are using a Google Apps domain name and need appcfg.py to sign in using an account on that domain, you must specify the <code>--auth_domain=...</code> option, whose value is your domain name.</p>

<p>If the transfer is interrupted, you can resume the transfer from where it left off using the <code>--db_filename=...</code> and <code>--result_db_filename=...</code> arguments. These arguments are the names of the progress file and the results file created by the tool, which are either names you provided with the arguments when you started the transfer, or default names that include a timestamp. This assumes you have <code>sqlite3</code> installed, and did not disable progress files with <code>--db_filename=skip</code>.</p>


<h2 id="Command_Line_Arguments">Command Line Arguments</h2>

<p>The <code>appcfg.py upload_data</code> command accepts the following arguments. See also the other options <code>appcfg.py</code> accepts for all actions, listed in <a href="uploadinganapp.html#Command_Line_Arguments">Uploading and Managing a Python App: Command-Line Arguments</a>.</p>

<dl>
  <dt><code>appcfg.py upload_data <i>[options]</i></code> <i>&lt;app-directory&gt;</i></dt>
  <dd>
    <dl>
      <dt><code>--filename=<i>...</i></code></dt>
      <dd>
        <p>Required. The path to the CSV data file to load.</p>
      </dd>

      <dt><code>--kind=<i>...</i></code></dt>
      <dd>
        <p>Required. The name of the datastore kind to use for creating new entities.</p>
      </dd>

      <dt><code>--config_file=<i>...</i></code></dt>
      <dd>
        <p>Required. A Python source file that imports or defines Model classes for the kinds of entities that an upload might create, as well as Loader classes for each kind. <code>appcfg.py upload_data</code> provides the <code>Loader</code> base class in the local namespace when evaluating this file.</p>
      </dd>

      <dt><code>--loader_opts=<i>...</i></code></dt>
      <dd>
        <p>An option to pass to the Loader class's <code>initialize()</code> method. You can implement this method to pass arguments to your Loader classes.</p>
      </dd>

      <dt><code>--log_file=<i>...</i></code></dt>
      <dd>
        <p>The name of the file to write logging information about the upload. The default is to create a file named <code>bulkloader-log-<i>timestamp</i></code> in the current working directory (where <code><i>timestamp</i></code> is the time the tool is run).</p>
      </dd>

      <dt><code>--auth_domain=<i>...</i></code></dt>
      <dd>
        <p>The name of the authorization domain of the account to use to contact remote_api. If you're using a Google Apps domain and need appcfg.py to sign in using a Google Apps account, specify your domain name with this option.</p>
      </dd>

      <dt><code>--num_threads=<i>#</i></code></dt>
      <dd>
        <p>The number of threads to spawn to upload new entities in parallel. The default is 10.</p>
      </dd>

      <dt><code>--batch_size=<i>#</i></code></dt>
      <dd>
        <p>The number of entities to create with each remote_api call. For large entities, use a small batch size to limit the amount of data posted per batch. The default is 10.</p>
      </dd>

      <dt><code>--bandwidth_limit=<i>#</i></code></dt>
      <dd>
        <p>The maximum total number of bytes per second that all threads should send. Bursts may exceed this maximum, but the overall bandwidth will be less than this amount. The default is 250,000 bytes per second.</p>
      </dd>

      <dt><code>--rps_limit=<i>#</i></code></dt>
      <dd>
        <p>The maximum total number of records per second that all threads should send. The default is 20.</p>
      </dd>

      <dt><code>--http_limit=<i>#</i></code></dt>
      <dd>
        <p>The maximum total number of HTTP requests per second that all threads should send. The default is 7.5 per second (15 per 2 seconds).</p>
      </dd>

      <dt><code>--db_filename=<i>...</i></code></dt>
      <dd>
        <p>The filename to use for the progress file for this run. If not specified, this is named <code>bulkloader-progress-<i>timestamp</i></code>, where <code><i>timestamp</i></code> represents the time the command is run. If this argument is specified with the value <code>skip</code>, the upload will not use a progress file.</p>
      </dd>

      <dt><code>--has_header</code></dt>
      <dd>
        <p>If present, skips the first row in the CSV file, assuming it's a header row.</p>
      </dd>

      <dt><code>--application=<i>...</i></code></dt>
      <dd>
        <p>The application ID, if different from the application ID specified in the app's <code>app.yaml</code> file.</p>
        <p class="warning"><code>Warning!</code> Do not use the <code>--application=</code> flag to get the application ID when using the bulk loader. Instead, use <code>--url=</code>.</p>
      </dd>

      <dt><code>--url=<i>...</i></code></dt>
      <dd>
        <p>The URL of the remote_api handler to use to connect to the datastore. By default, this is derived from the app's <code>app.yaml</code> file.</p>
        <p>The bulk loader can determine the application ID from the URL.</p>
      </dd>

      <dt><code>--dry_run</code></dt>
      <dd>
        <p>Don't actually call the datastore, just verify that everything else would work.</p>
      </dd>

    </dl>
  </dd>

  <dt><code>appcfg.py download_data <i>[options]</i></code> <i>&lt;app-directory&gt;</i></dt>
  <dd>
    <p>The arguments for <code>download_data</code> are the same as those for <code>upload_data</code>. The <code>--filename</code> argument specifies the file to write to, instead of the file to read from. This file is overwritten when starting a new download, and appended to when continuing an interrupted download.</p>
    <p><code>download_data</code> also supports the following argument:</p>
    <dl>
      <dt><code>--result_db_filename=<i>...</i></code></dt>
      <dd>
        <p>The filename to use for the results file for this run. The results file stores the exported data until the export is finished, so the final output file can be sorted by key. If not specified, this is named <code>bulkloader-results-<i>timestamp</i></code>, where <code><i>timestamp</i></code> represents the time the command is run. If this argument is specified with the value <code>skip</code>, the upload will not use a results file.</p>
      </dd>
    </dl>
  </dd>

</dl>


      </div><!-- end gc-pagecontent -->
   </div><!-- end gooey wrapper -->

    </div> <!-- end codesite content -->


<div id="gc-footer" dir="ltr">
  <div class="text">
    
      <div class="notice"><div id="notice" style="text-align: center; border: 1em 0em 1em 0em">
  Except as otherwise <a
  href="http://code.google.com/policies.html#restrictions">noted</a>,
  the content of this page is licensed under the <a rel="license"
  href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
  Attribution 3.0 License</a>, and code samples are licensed under the
  <a rel="license" href="http://www.apache.org/licenses/LICENSE-2.0">Apache
  2.0 License</a>.
<!-- <rdf:RDF xmlns="http://web.resource.org/cc/" 
              xmlns:dc="http://purl.org/dc/elements/1.1/"
              xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <Work rdf:about="">
    <license rdf:resource="http://creativecommons.org/licenses/by/3.0/" />
  </Work>
  <License rdf:about="http://creativecommons.org/licenses/by/3.0/">
    <permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
    <permits rdf:resource="http://web.resource.org/cc/Distribution"/>
    <requires rdf:resource="http://web.resource.org/cc/Notice"/>
    <requires rdf:resource="http://web.resource.org/cc/Attribution"/>
    <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/>
  </License>
</rdf:RDF> -->
</div>
Java is a registered trademark of Oracle Corporation and/or its affiliates</div>
    
    2011 Google -
    <a href="http://code.google.com">Code Home</a> -
    <a href="http://code.google.com/terms.html">Site Terms of Service</a> -
    <a href="http://code.google.com/privacy.html">Privacy Policy</a> -
    <a href="http://code.google.com/more">Site Directory</a>
    <br> <br>
    Google Code offered in:
    <a href="http://code.google.com/intl/en">English</a> -
    <a href="http://code.google.com/intl/es">Espaol</a> -
    <a href="http://code.google.com/intl/ja"></a> -
    <a href="http://code.google.com/intl/ko"></a> -
    <a href="http://code.google.com/intl/pt-BR">Portugus</a> -
    <a href="http://code.google.com/intl/ru">P</a> -
    <a href="http://code.google.com/intl/zh-CN">()</a> -
    <a href="http://code.google.com/intl/zh-TW">()</a>
  </div>
</div><!-- end gc-footer -->

</div><!-- end gc-container -->

<script type="text/javascript">CODESITE_CSITimer['load'].tick('ats');</script>
<script src="../../../../js/codesite_tail.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>





  </body>
</html>


