/* Copyright 2008-9 Google Inc. All Rights Reserved. */ (function(){var m=void 0,n=!0,p=null,q=!1,s,u=this,v=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},w=function(a){return"string"==typeof a},x="closure_uid_"+(1E9*Math.random()>>>0),y=0,aa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},A=function(a,b){var c=a.split("."),d=u;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&
(e=c.shift());)!c.length&&b!==m?d[e]=b:d=d[e]?d[e]:d[e]={}},B=function(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c};var C=function(a){Error.captureStackTrace?Error.captureStackTrace(this,C):this.stack=Error().stack||"";a&&(this.message=String(a))};B(C,Error);var ba=function(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a};var ca=function(a,b){b.unshift(a);C.call(this,ba.apply(p,b));b.shift()};B(ca,C);var D=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),e="Assertion failed";if(b)var e=e+(": "+b),f=d;throw new ca(""+e,f||[]);}};var E=Array.prototype,F=E.indexOf?function(a,b,c){D(a.length!=p);return E.indexOf.call(a,b,c)}:function(a,b,c){c=c==p?0:0>c?Math.max(0,a.length+c):c;if(w(a))return!w(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},da=E.forEach?function(a,b,c){D(a.length!=p);E.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ea=E.filter?function(a,b,c){D(a.length!=p);return E.filter.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=[],f=0,g=w(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e},fa=function(a,b){var c=F(a,b),d;if(d=0<=c)D(a.length!=p),E.splice.call(a,c,1);return d},ga=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},ha=function(a,b,c){D(a.length!=p);return 2>=arguments.length?E.slice.call(a,b):E.slice.call(a,b,c)};var G,H,I,J,ia=function(){return u.navigator?u.navigator.userAgent:p};J=I=H=G=q;var K;if(K=ia()){var ja=u.navigator;G=0==K.indexOf("Opera");H=!G&&-1!=K.indexOf("MSIE");I=!G&&-1!=K.indexOf("WebKit");J=!G&&!I&&"Gecko"==ja.product}var ka=G,L=H,M=J,N=I,la=function(){var a=u.document;return a?a.documentMode:m},O;
a:{var P="",Q;if(ka&&u.opera)var R=u.opera.version,P="function"==typeof R?R():R;else if(M?Q=/rv\:([^\);]+)(\)|;)/:L?Q=/MSIE\s+([^\);]+)(\)|;)/:N&&(Q=/WebKit\/(\S+)/),Q)var ma=Q.exec(ia()),P=ma?ma[1]:"";if(L){var na=la();if(na>parseFloat(P)){O=String(na);break a}}O=P}
var oa=O,pa={},S=function(a){var b;if(!(b=pa[a])){b=0;for(var c=String(oa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),r=RegExp("(\\d*)(\\D*)","g");do{var k=l.exec(g)||["","",""],t=r.exec(h)||["","",""];if(0==k[0].length&&0==t[0].length)break;b=((0==k[1].length?0:parseInt(k[1],10))<(0==t[1].length?0:parseInt(t[1],10))?-1:(0==k[1].length?
0:parseInt(k[1],10))>(0==t[1].length?0:parseInt(t[1],10))?1:0)||((0==k[2].length)<(0==t[2].length)?-1:(0==k[2].length)>(0==t[2].length)?1:0)||(k[2]<t[2]?-1:k[2]>t[2]?1:0)}while(0==b)}b=pa[a]=0<=b}return b},qa=u.document,ra=!qa||!L?m:la()||("CSS1Compat"==qa.compatMode?parseInt(oa,10):5);!M&&!L||L&&L&&9<=ra||M&&S("1.9.1");L&&S("9");var sa=function(a){a=a.className;return w(a)&&a.match(/\S+/g)||[]},ta=function(a,b){for(var c=sa(a),d=ha(arguments,1),e=c,f=0;f<d.length;f++)0<=F(e,d[f])||e.push(d[f]);c=c.join(" ");a.className=c},va=function(a,b){var c=sa(a),d=ha(arguments,1),c=ua(c,d).join(" ");a.className=c},ua=function(a,b){return ea(a,function(a){return!(0<=F(b,a))})};var T=function(a,b,c){var d=document;c=c||d;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,f=0,g;g=c[f];f++)a==g.nodeName&&(d[e++]=g);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;g=c[f];f++)a=g.className,"function"==typeof a.split&&0<=F(a.split(/\s+/),b)&&(d[e++]=g);d.length=e;return d}return c};var wa=function(a){wa[" "](a);return a};wa[" "]=function(){};var xa=!L||L&&9<=ra,ya=L&&!S("9");!N||S("528");M&&S("1.9b")||L&&S("8")||ka&&S("9.5")||N&&S("528");M&&!S("8")||L&&S("9");var U=function(a,b){this.type=a;this.currentTarget=this.target=b};U.prototype.j=q;U.prototype.defaultPrevented=q;U.prototype.preventDefault=function(){this.defaultPrevented=n};var V=function(a,b){a&&this.e(a,b)};B(V,U);s=V.prototype;s.target=p;s.relatedTarget=p;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=q;s.altKey=q;s.shiftKey=q;s.metaKey=q;s.n=p;
s.e=function(a,b){var c=this.type=a.type;U.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(M){var e;a:{try{wa(d.nodeName);e=n;break a}catch(f){}e=q}e||(d=p)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=N||a.offsetX!==m?a.offsetX:a.layerX;this.offsetY=N||a.offsetY!==m?a.offsetY:a.layerY;this.clientX=a.clientX!==m?a.clientX:a.pageX;this.clientY=a.clientY!==m?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.n=a;a.defaultPrevented&&this.preventDefault();delete this.j};
s.preventDefault=function(){V.o.preventDefault.call(this);var a=this.n;if(a.preventDefault)a.preventDefault();else if(a.returnValue=q,ya)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var za="closure_listenable_"+(1E6*Math.random()|0),Aa=0;var Ba=function(){};s=Ba.prototype;s.key=0;s.c=q;s.f=q;s.e=function(a,b,c,d,e,f){if("function"==v(a))this.m=n;else if(a&&a.handleEvent&&"function"==v(a.handleEvent))this.m=q;else throw Error("Invalid listener argument");this.d=a;this.k=b;this.src=c;this.type=d;this.capture=!!e;this.i=f;this.f=q;this.key=++Aa;this.c=q};s.handleEvent=function(a){return this.m?this.d.call(this.i||this.src,a):this.d.handleEvent.call(this.d,a)};var W={},X={},Y={},Z={},Da=function(){var a=Ca,b=xa?function(c){return a.call(b.src,b.d,c)}:function(c){c=a.call(b.src,b.d,c);if(!c)return c};return b},Ea=function(a,b,c,d,e){if("array"==v(b))for(var f=0;f<b.length;f++)Ea(a,b[f],c,d,e);else{if(a&&a[za]){c=Fa(c);Ga(a);var f=a.g[b]||(a.g[b]=[]),g;b:{for(g=0;g<f.length;++g){var h=f[g];if(h.d==c&&h.capture==!!d&&h.i==e)break b}g=-1}-1<g?g=f[g]:(g=new Ba,g.e(c,p,a,b,!!d,e),g.f=n,f.push(g));a=g}else a:{if(!b)throw Error("Invalid event type");d=!!d;h=X;
b in h||(h[b]={a:0,b:0});h=h[b];d in h||(h[d]={a:0,b:0},h.a++);h=h[d];f=a[x]||(a[x]=++y);h.b++;if(h[f]){g=h[f];for(var l=0;l<g.length;l++)if(h=g[l],h.d==c&&h.i==e){if(h.c)break;a=g[l];break a}}else g=h[f]=[],h.a++;l=Da();h=new Ba;h.e(c,l,a,b,d,e);h.f=n;l.src=a;l.d=h;g.push(h);Y[f]||(Y[f]=[]);Y[f].push(h);a.addEventListener?a==u||!a.customEvent_?a.addEventListener(b,l,d):Ga(a):a.attachEvent(b in Z?Z[b]:Z[b]="on"+b,l);a=h}W[a.key]=a}},Ha=function(a,b,c,d){if(!d.h&&d.l){for(var e=0,f=0;e<d.length;e++)d[e].c?
d[e].k.src=p:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.l=q;0==f&&(delete X[a][b][c],X[a][b].a--,0==X[a][b].a&&(delete X[a][b],X[a].a--),0==X[a].a&&delete X[a])}},Ja=function(a,b,c,d,e){var f=1;b=b[x]||(b[x]=++y);if(a[b]){var g=--a.b,h=a[b];h.h?h.h++:h.h=1;try{for(var l=h.length,r=0;r<l;r++){var k=h[r];k&&!k.c&&(f&=Ia(k,e)!==q)}}finally{a.b=Math.max(g,a.b),h.h--,Ha(c,d,b,h)}}return Boolean(f)},Ia=function(a,b){if(a.f){var c=a.key,d=W[c];if(d&&!d.c){var e=d.src;if(e&&e[za])c=d.type,c in e.g&&fa(e.g[c],d)&&
(delete W[d.key],d.c=n);else{var f=d.type,g=d.k,h=d.capture;e.removeEventListener?(e==u||!e.customEvent_)&&e.removeEventListener(f,g,h):e.detachEvent&&e.detachEvent(f in Z?Z[f]:Z[f]="on"+f,g);e=e[x]||(e[x]=++y);Y[e]&&(g=Y[e],fa(g,d),0==g.length&&delete Y[e]);d.c=n;if(d=X[f][h][e])d.l=n,Ha(f,h,e,d);delete W[c]}}}return a.handleEvent(b)},Ca=function(a,b){if(a.c)return n;var c=a.type,d=X;if(!(c in d))return n;var d=d[c],e,f;if(!xa){var g;if(!(g=b))a:{g=["window","event"];for(var h=u;e=g.shift();)if(h[e]!=
p)h=h[e];else{g=p;break a}g=h}e=g;g=n in d;h=q in d;if(g){if(0>e.keyCode||e.returnValue!=m)return n;a:{var l=q;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(r){l=n}if(l||e.returnValue==m)e.returnValue=n}}l=new V;l.e(e,this);e=n;try{if(g){for(var k=[],t=l.currentTarget;t;t=t.parentNode)k.push(t);f=d[n];f.b=f.a;for(var z=k.length-1;!l.j&&0<=z&&f.b;z--)l.currentTarget=k[z],e&=Ja(f,k[z],c,n,l);if(h){f=d[q];f.b=f.a;for(z=0;!l.j&&z<k.length&&f.b;z++)l.currentTarget=k[z],e&=Ja(f,k[z],c,q,l)}}else e=Ia(a,
l)}finally{k&&(k.length=0)}return e}c=new V(b,this);return e=Ia(a,c)},Ka="__closure_events_fn_"+(1E9*Math.random()>>>0),Fa=function(a){return"function"==v(a)?a:a[Ka]||(a[Ka]=function(b){return a.handleEvent(b)})};var Ga=function(a){D(a.g,"Event target is not initialized. Did you call superclass (goog.events.EventTarget) constructor?")};var $=function(){};$.p=function(){$.q||($.q=new $)};$.p();L||N&&S("525");A("ae.init",function(){La();Ma();Ea(window,"load",function(){});Na()});
var La=function(){var a;if(a=w("ae-content")?document.getElementById("ae-content"):"ae-content"){a=T("table","ae-table-striped",a);for(var b=0,c;c=a[b];b++){c=T("tbody",p,c);for(var d=0,e;e=c[d];d++){e=T("tr",p,e);for(var f=0,g;g=e[f];f++)f%2&&ta(g,"ae-even")}}}},Ma=function(){var a=T(p,"ae-noscript",m);da(ga(a),function(a){va(a,"ae-noscript")})},Na=function(){u._gaq=u._gaq||[];u._gaq.push(function(){u._gaq._createAsyncTracker("UA-3739047-3","ae")._trackPageview()});(function(){var a=document.createElement("script");
a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";a.setAttribute("async","true");document.documentElement.firstChild.appendChild(a)})()};A("ae.trackPageView",function(){u._gaq&&u._gaq._getAsyncTracker("ae")._trackPageview()});var Pa=function(a){if(a==m||a==p||0==a.length)return 0;a=Math.max.apply(Math,a);return Oa(a)},Oa=function(a){var b=5;2>b&&(b=2);b-=1;return Math.ceil(a/b)*b},Qa=function(a,b,c){a=a.getSelection();1==a.length&&(a=a[0],a.row!=p&&(b.starttime!=p&&(c+="&starttime="+b.starttime),b.endtime!=p&&(c+="&endtime="+b.endtime),b.latency_lower!=p&&(c+="&latency_lower="+b.latency_lower),b.latency_upper!=p&&(c+="&latency_upper="+b.latency_upper),b=c+"&detail="+a.row,window.location.href=b))},Ra=function(a,b,c,d,
e){var f=new google.visualization.DataTable;f.addColumn("string","");f.addColumn("number","");f.addColumn({type:"string",role:"tooltip"});for(var g=0;g<b.length;g++)f.addRow(["",b[g],c[g]]);c=Math.max(10*b.length,200);b=Pa(b);a=new google.visualization.ColumnChart(document.getElementById("rpctime-"+a));a.draw(f,{height:100,width:c,legend:"none",chartArea:{left:40},fontSize:11,vAxis:{minValue:0,maxValue:b,gridlines:{count:5}}});google.visualization.events.addListener(a,"select",aa(Qa,a,d,e))};
A("ae.Charts.latencyHistogram",function(a,b,c){var d=new google.visualization.DataTable;d.addColumn("string","");d.addColumn("number","");for(var e=0;e<b.length;e++)d.addRow([""+a[e],b[e]]);for(e=b.length;e<a.length;e++)d.addRow([""+a[e],0]);b=Pa(b);(new google.visualization.ColumnChart(document.getElementById("latency-"+c))).draw(d,{legend:"none",width:20*a.length,height:200,vAxis:{maxValue:b,gridlines:{count:5}}})});
A("ae.Charts.latencyTimestampScatter",function(a,b,c,d,e){var f=new google.visualization.DataTable;f.addColumn("number","Time (seconds from start)");f.addColumn("number","Latency");for(var g=0;g<a.length;g++){var h=Math.round(a[g]-c);f.addRow([h,b[g]])}a=d.starttime?d.starttime:0;b=new google.visualization.ScatterChart(document.getElementById("LatencyVsTimestamp"));b.draw(f,{hAxis:{title:"Time (seconds from start of recording)",minValue:a},vAxis:{title:"Request Latency (milliseconds)",minValue:0},
tooltip:{trigger:"none"},legend:"none"});google.visualization.events.addListener(b,"select",aa(Qa,b,d,e))});
A("ae.Charts.entityCountBarChart",function(a,b,c,d){var e=new google.visualization.DataTable;e.addColumn("string","");e.addColumn("number","Reads");e.addColumn({type:"string",role:"tooltip"});e.addColumn("number","Misses");e.addColumn({type:"string",role:"tooltip"});e.addColumn("number","Writes");e.addColumn({type:"string",role:"tooltip"});var f=50;f>b.length&&(f=b.length);for(var g=0;g<f;g++)e.addRow(["",b[g][1]-b[g][3],b[g][0],b[g][3],b[g][0],b[g][2],b[g][0]]);b=20*f;f=b+130;a=new google.visualization.ColumnChart(document.getElementById(d+
"-"+a));c=Oa(c);a.draw(e,{height:100,width:f,chartArea:{width:b},fontSize:10,isStacked:n,vAxis:{minValue:0,maxValue:c,gridlines:{count:5}}})});
A("ae.Charts.rpcVariationCandlestick",function(a){var b=new google.visualization.DataTable;b.addColumn("string","");b.addColumn("number","");b.addColumn("number","");b.addColumn("number","");b.addColumn("number","");b.addRows(a);(new google.visualization.CandlestickChart(document.getElementById("rpcvariation"))).draw(b,{vAxis:{title:"RPC Latency variation (milliseconds)"},hAxis:{textPosition:"out",slantedText:n,slantedTextAngle:45,textStyle:{fontSize:13}},height:250,chartArea:{top:10,height:100},
legend:"none",tooltip:{trigger:"none"}})});A("ae.Charts.totalTimeBarChart",function(a,b,c,d){for(var e=[],f=0;f<b.length;f++)e[f]=b[f]+" milliseconds";Ra(a,b,e,c,d)});A("ae.Charts.rpcTimeBarChart",function(a,b,c,d,e){var f=[],g=[],h=c.indices,l=c.times;c=c.stats;for(var r=0;r<b;r++)f[r]=0,g[r]=p;for(r=0;r<h.length;r++){f[h[r]]=l[r];b=c[r];var k="Calls: "+b[0];if(0<b[1]||0<b[2]||0<b[3])k+=" Entities";0<b[1]&&(k+=" R:"+b[1]);0<b[2]&&(k+=" W:"+b[2]);0<b[3]&&(k+=" M:"+b[3]);g[h[r]]=k}Ra(a,f,g,d,e)});})();
