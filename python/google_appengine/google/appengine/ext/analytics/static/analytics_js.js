/* Copyright 2008-9 Google Inc. All Rights Reserved. */ (function(){var m=void 0,n=!0,p=null,r=!1,s,u=this,v=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},w=function(a){return"string"==typeof a},x="closure_uid_"+(1E9*Math.random()>>>0),y=0,aa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},A=function(a,b){var c=a.split("."),e=u;!(c[0]in e)&&e.execScript&&e.execScript("var "+c[0]);for(var d;c.length&&
(d=c.shift());)!c.length&&b!==m?e[d]=b:e=e[d]?e[d]:e[d]={}},B=function(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c};var C=function(a){Error.captureStackTrace?Error.captureStackTrace(this,C):this.stack=Error().stack||"";a&&(this.message=String(a))};B(C,Error);var ba=function(a,b){for(var c=1;c<arguments.length;c++){var e=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,e)}return a};var ca=function(a,b){b.unshift(a);C.call(this,ba.apply(p,b));b.shift()};B(ca,C);var D=function(a,b,c){if(!a){var e=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b)var d=d+(": "+b),f=e;throw new ca(""+d,f||[]);}};var E=Array.prototype,F=E.indexOf?function(a,b,c){D(a.length!=p);return E.indexOf.call(a,b,c)}:function(a,b,c){c=c==p?0:0>c?Math.max(0,a.length+c):c;if(w(a))return!w(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},da=E.forEach?function(a,b,c){D(a.length!=p);E.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,d=w(a)?a.split(""):a,f=0;f<e;f++)f in d&&b.call(c,d[f],f,a)},ea=E.filter?function(a,b,c){D(a.length!=p);return E.filter.call(a,b,c)}:function(a,
b,c){for(var e=a.length,d=[],f=0,g=w(a)?a.split(""):a,h=0;h<e;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(d[f++]=k)}return d},fa=function(a){var b=a.length;if(0<b){for(var c=Array(b),e=0;e<b;e++)c[e]=a[e];return c}return[]},ga=function(a,b,c){D(a.length!=p);return 2>=arguments.length?E.slice.call(a,b):E.slice.call(a,b,c)};var G,H,I,J,ha=function(){return u.navigator?u.navigator.userAgent:p};J=I=H=G=r;var K;if(K=ha()){var ia=u.navigator;G=0==K.indexOf("Opera");H=!G&&-1!=K.indexOf("MSIE");I=!G&&-1!=K.indexOf("WebKit");J=!G&&!I&&"Gecko"==ia.product}var ja=G,L=H,M=J,N=I,ka=function(){var a=u.document;return a?a.documentMode:m},O;
a:{var P="",Q;if(ja&&u.opera)var R=u.opera.version,P="function"==typeof R?R():R;else if(M?Q=/rv\:([^\);]+)(\)|;)/:L?Q=/MSIE\s+([^\);]+)(\)|;)/:N&&(Q=/WebKit\/(\S+)/),Q)var la=Q.exec(ha()),P=la?la[1]:"";if(L){var ma=ka();if(ma>parseFloat(P)){O=String(ma);break a}}O=P}
var na=O,oa={},S=function(a){var b;if(!(b=oa[a])){b=0;for(var c=String(na).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=Math.max(c.length,e.length),f=0;0==b&&f<d;f++){var g=c[f]||"",h=e[f]||"",k=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var l=k.exec(g)||["","",""],t=q.exec(h)||["","",""];if(0==l[0].length&&0==t[0].length)break;b=((0==l[1].length?0:parseInt(l[1],10))<(0==t[1].length?0:parseInt(t[1],10))?-1:(0==l[1].length?
0:parseInt(l[1],10))>(0==t[1].length?0:parseInt(t[1],10))?1:0)||((0==l[2].length)<(0==t[2].length)?-1:(0==l[2].length)>(0==t[2].length)?1:0)||(l[2]<t[2]?-1:l[2]>t[2]?1:0)}while(0==b)}b=oa[a]=0<=b}return b},pa=u.document,qa=!pa||!L?m:ka()||("CSS1Compat"==pa.compatMode?parseInt(na,10):5);!M&&!L||L&&L&&9<=qa||M&&S("1.9.1");L&&S("9");var ra=function(a){a=a.className;return w(a)&&a.match(/\S+/g)||[]},sa=function(a,b){for(var c=ra(a),e=ga(arguments,1),d=c,f=0;f<e.length;f++)0<=F(d,e[f])||d.push(e[f]);c=c.join(" ");a.className=c},ua=function(a,b){var c=ra(a),e=ga(arguments,1),c=ta(c,e).join(" ");a.className=c},ta=function(a,b){return ea(a,function(a){return!(0<=F(b,a))})};var T=function(a,b,c){var e=document;c=c||e;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var e={},d=0,f=0,g;g=c[f];f++)a==g.nodeName&&(e[d++]=g);e.length=d;return e}return c}c=c.getElementsByTagName(a||"*");if(b){e={};for(f=d=0;g=c[f];f++)a=g.className,"function"==typeof a.split&&0<=F(a.split(/\s+/),b)&&(e[d++]=g);e.length=d;return e}return c};var U=function(a){U[" "](a);return a};U[" "]=function(){};var va=!L||L&&9<=qa,wa=L&&!S("9");!N||S("528");M&&S("1.9b")||L&&S("8")||ja&&S("9.5")||N&&S("528");M&&!S("8")||L&&S("9");var V=function(a,b){this.type=a;this.currentTarget=this.target=b};V.prototype.h=r;V.prototype.defaultPrevented=r;V.prototype.preventDefault=function(){this.defaultPrevented=n};var W=function(a,b){a&&this.e(a,b)};B(W,V);s=W.prototype;s.target=p;s.relatedTarget=p;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=r;s.altKey=r;s.shiftKey=r;s.metaKey=r;s.m=p;
s.e=function(a,b){var c=this.type=a.type;V.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(M){var d;a:{try{U(e.nodeName);d=n;break a}catch(f){}d=r}d||(e=p)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;this.offsetX=N||a.offsetX!==m?a.offsetX:a.layerX;this.offsetY=N||a.offsetY!==m?a.offsetY:a.layerY;this.clientX=a.clientX!==m?a.clientX:a.pageX;this.clientY=a.clientY!==m?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.m=a;a.defaultPrevented&&this.preventDefault();delete this.h};
s.preventDefault=function(){W.o.preventDefault.call(this);var a=this.m;if(a.preventDefault)a.preventDefault();else if(a.returnValue=r,wa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var xa=0;var ya=function(){};s=ya.prototype;s.key=0;s.c=r;s.g=r;s.e=function(a,b,c,e,d,f){if("function"==v(a))this.l=n;else if(a&&a.handleEvent&&"function"==v(a.handleEvent))this.l=r;else throw Error("Invalid listener argument");this.d=a;this.j=b;this.src=c;this.type=e;this.capture=!!d;this.i=f;this.g=r;this.key=++xa;this.c=r};s.handleEvent=function(a){return this.l?this.d.call(this.i||this.src,a):this.d.handleEvent.call(this.d,a)};var za={},X={},Y={},Z={},Ba=function(){var a=Aa,b=va?function(c){return a.call(b.src,b.d,c)}:function(c){c=a.call(b.src,b.d,c);if(!c)return c};return b},Ca=function(a,b,c,e,d){if("array"==v(b))for(var f=0;f<b.length;f++)Ca(a,b[f],c,e,d);else{a:{if(!b)throw Error("Invalid event type");e=!!e;var g=X;b in g||(g[b]={a:0,b:0});g=g[b];e in g||(g[e]={a:0,b:0},g.a++);var g=g[e],f=a[x]||(a[x]=++y),h;g.b++;if(g[f]){h=g[f];for(var k=0;k<h.length;k++)if(g=h[k],g.d==c&&g.i==d){if(g.c)break;a=h[k];break a}}else h=
g[f]=[],g.a++;k=Ba();g=new ya;g.e(c,k,a,b,e,d);g.g=n;k.src=a;k.d=g;h.push(g);Y[f]||(Y[f]=[]);Y[f].push(g);a.addEventListener?(a==u||!a.n)&&a.addEventListener(b,k,e):a.attachEvent(b in Z?Z[b]:Z[b]="on"+b,k);a=g}za[a.key]=a}},Da=function(a,b,c,e){if(!e.f&&e.k){for(var d=0,f=0;d<e.length;d++)e[d].c?e[d].j.src=p:(d!=f&&(e[f]=e[d]),f++);e.length=f;e.k=r;0==f&&(delete X[a][b][c],X[a][b].a--,0==X[a][b].a&&(delete X[a][b],X[a].a--),0==X[a].a&&delete X[a])}},Fa=function(a,b,c,e,d){var f=1;b=b[x]||(b[x]=++y);
if(a[b]){var g=--a.b,h=a[b];h.f?h.f++:h.f=1;try{for(var k=h.length,q=0;q<k;q++){var l=h[q];l&&!l.c&&(f&=Ea(l,d)!==r)}}finally{a.b=Math.max(g,a.b),h.f--,Da(c,e,b,h)}}return Boolean(f)},Ea=function(a,b){if(a.g){var c=a.key,e=za[c];if(e&&!e.c){var d=e.src,f=e.type,g=e.j,h=e.capture;d.removeEventListener?(d==u||!d.n)&&d.removeEventListener(f,g,h):d.detachEvent&&d.detachEvent(f in Z?Z[f]:Z[f]="on"+f,g);d=d[x]||(d[x]=++y);if(Y[d]){var g=Y[d],k=F(g,e);0<=k&&(D(g.length!=p),E.splice.call(g,k,1));0==g.length&&
delete Y[d]}e.c=n;if(e=X[f][h][d])e.k=n,Da(f,h,d,e);delete za[c]}}return a.handleEvent(b)},Aa=function(a,b){if(a.c)return n;var c=a.type,e=X;if(!(c in e))return n;var e=e[c],d,f;if(!va){var g;if(!(g=b))a:{g=["window","event"];for(var h=u;d=g.shift();)if(h[d]!=p)h=h[d];else{g=p;break a}g=h}d=g;g=n in e;h=r in e;if(g){if(0>d.keyCode||d.returnValue!=m)return n;a:{var k=r;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(q){k=n}if(k||d.returnValue==m)d.returnValue=n}}k=new W;k.e(d,this);d=n;try{if(g){for(var l=
[],t=k.currentTarget;t;t=t.parentNode)l.push(t);f=e[n];f.b=f.a;for(var z=l.length-1;!k.h&&0<=z&&f.b;z--)k.currentTarget=l[z],d&=Fa(f,l[z],c,n,k);if(h){f=e[r];f.b=f.a;for(z=0;!k.h&&z<l.length&&f.b;z++)k.currentTarget=l[z],d&=Fa(f,l[z],c,r,k)}}else d=Ea(a,k)}finally{l&&(l.length=0)}return d}c=new W(b,this);return d=Ea(a,c)};var $=function(){};$.p=function(){$.q||($.q=new $)};$.p();L||N&&S("525");A("ae.init",function(){Ga();Ha();Ca(window,"load",function(){});Ia()});
var Ga=function(){var a;if(a=w("ae-content")?document.getElementById("ae-content"):"ae-content"){a=T("table","ae-table-striped",a);for(var b=0,c;c=a[b];b++){c=T("tbody",p,c);for(var e=0,d;d=c[e];e++){d=T("tr",p,d);for(var f=0,g;g=d[f];f++)f%2&&sa(g,"ae-even")}}}},Ha=function(){var a=T(p,"ae-noscript",m);da(fa(a),function(a){ua(a,"ae-noscript")})},Ia=function(){u._gaq=u._gaq||[];u._gaq.push(function(){u._gaq._createAsyncTracker("UA-3739047-3","ae")._trackPageview()});(function(){var a=document.createElement("script");
a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";a.setAttribute("async","true");document.documentElement.firstChild.appendChild(a)})()};A("ae.trackPageView",function(){u._gaq&&u._gaq._getAsyncTracker("ae")._trackPageview()});var Ka=function(a){if(a==m||a==p||0==a.length)return 0;a=Math.max.apply(Math,a);return Ja(a)},Ja=function(a){var b=5;2>b&&(b=2);b-=1;return Math.ceil(a/b)*b},La=function(a,b,c){a=a.getSelection();1==a.length&&(a=a[0],a.row!=p&&(b.starttime!=p&&(c+="&starttime="+b.starttime),b.endtime!=p&&(c+="&endtime="+b.endtime),b.latency_lower!=p&&(c+="&latency_lower="+b.latency_lower),b.latency_upper!=p&&(c+="&latency_upper="+b.latency_upper),b=c+"&detail="+a.row,window.location.href=b))},Ma=function(a,b,c,e,
d){var f=new google.visualization.DataTable;f.addColumn("string","");f.addColumn("number","");f.addColumn({type:"string",role:"tooltip"});for(var g=0;g<b.length;g++)f.addRow(["",b[g],c[g]]);c=Math.max(10*b.length,200);b=Ka(b);a=new google.visualization.ColumnChart(document.getElementById("rpctime-"+a));a.draw(f,{height:100,width:c,legend:"none",chartArea:{left:40},fontSize:11,vAxis:{minValue:0,maxValue:b,gridlines:{count:5}}});google.visualization.events.addListener(a,"select",aa(La,a,e,d))};
A("ae.Charts.latencyHistogram",function(a,b,c){var e=new google.visualization.DataTable;e.addColumn("string","");e.addColumn("number","");for(var d=0;d<b.length;d++)e.addRow([""+a[d],b[d]]);for(d=b.length;d<a.length;d++)e.addRow([""+a[d],0]);b=Ka(b);(new google.visualization.ColumnChart(document.getElementById("latency-"+c))).draw(e,{legend:"none",width:20*a.length,height:200,vAxis:{maxValue:b,gridlines:{count:5}}})});
A("ae.Charts.latencyTimestampScatter",function(a,b,c,e,d){var f=new google.visualization.DataTable;f.addColumn("number","Time (seconds from start)");f.addColumn("number","Latency");for(var g=0;g<a.length;g++){var h=Math.round(a[g]-c);f.addRow([h,b[g]])}a=e.starttime?e.starttime:0;b=new google.visualization.ScatterChart(document.getElementById("LatencyVsTimestamp"));b.draw(f,{hAxis:{title:"Time (seconds from start of recording)",minValue:a},vAxis:{title:"Request Latency (milliseconds)",minValue:0},
tooltip:{trigger:"none"},legend:"none"});google.visualization.events.addListener(b,"select",aa(La,b,e,d))});
A("ae.Charts.entityCountBarChart",function(a,b,c,e){var d=new google.visualization.DataTable;d.addColumn("string","");d.addColumn("number","Reads");d.addColumn({type:"string",role:"tooltip"});d.addColumn("number","Misses");d.addColumn({type:"string",role:"tooltip"});d.addColumn("number","Writes");d.addColumn({type:"string",role:"tooltip"});var f=50;f>b.length&&(f=b.length);for(var g=0;g<f;g++)d.addRow(["",b[g][1]-b[g][3],b[g][0],b[g][3],b[g][0],b[g][2],b[g][0]]);b=20*f;f=b+130;a=new google.visualization.ColumnChart(document.getElementById(e+
"-"+a));c=Ja(c);a.draw(d,{height:100,width:f,chartArea:{width:b},fontSize:10,isStacked:n,vAxis:{minValue:0,maxValue:c,gridlines:{count:5}}})});
A("ae.Charts.rpcVariationCandlestick",function(a){var b=new google.visualization.DataTable;b.addColumn("string","");b.addColumn("number","");b.addColumn("number","");b.addColumn("number","");b.addColumn("number","");b.addRows(a);(new google.visualization.CandlestickChart(document.getElementById("rpcvariation"))).draw(b,{vAxis:{title:"RPC Latency variation (milliseconds)"},hAxis:{textPosition:"out",slantedText:n,slantedTextAngle:45,textStyle:{fontSize:13}},height:250,chartArea:{top:10,height:100},
legend:"none",tooltip:{trigger:"none"}})});A("ae.Charts.totalTimeBarChart",function(a,b,c,e){for(var d=[],f=0;f<b.length;f++)d[f]=b[f]+" milliseconds";Ma(a,b,d,c,e)});A("ae.Charts.rpcTimeBarChart",function(a,b,c,e,d){var f=[],g=[],h=c.indices,k=c.times;c=c.stats;for(var q=0;q<b;q++)f[q]=0,g[q]=p;for(q=0;q<h.length;q++){f[h[q]]=k[q];b=c[q];var l="Calls: "+b[0];if(0<b[1]||0<b[2]||0<b[3])l+=" Entities";0<b[1]&&(l+=" R:"+b[1]);0<b[2]&&(l+=" W:"+b[2]);0<b[3]&&(l+=" M:"+b[3]);g[h[q]]=l}Ma(a,f,g,e,d)});})();
